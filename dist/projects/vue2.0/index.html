<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>é¡¹ç›®é¢„è§ˆ | æ›¾å°æ›¾çš„å‰ç«¯å°ç«™</title>
    <meta name="generator" content="VuePress 1.5.4">
    <link rel="icon" href="/zxz/favicon.ico">
    <meta name="description" content=" ">
    <link rel="preload" href="/zxz/assets/css/0.styles.88aca36b.css" as="style"><link rel="preload" href="/zxz/assets/js/app.92503a3d.js" as="script"><link rel="preload" href="/zxz/assets/js/2.f08df1f8.js" as="script"><link rel="preload" href="/zxz/assets/js/43.1b1b101a.js" as="script"><link rel="prefetch" href="/zxz/assets/js/10.7a96103a.js"><link rel="prefetch" href="/zxz/assets/js/11.73c6b8eb.js"><link rel="prefetch" href="/zxz/assets/js/12.f12877c1.js"><link rel="prefetch" href="/zxz/assets/js/13.f067228c.js"><link rel="prefetch" href="/zxz/assets/js/14.7b206be0.js"><link rel="prefetch" href="/zxz/assets/js/15.b201925a.js"><link rel="prefetch" href="/zxz/assets/js/16.6d04c679.js"><link rel="prefetch" href="/zxz/assets/js/17.a9a15eaf.js"><link rel="prefetch" href="/zxz/assets/js/18.978623dd.js"><link rel="prefetch" href="/zxz/assets/js/19.93d33dda.js"><link rel="prefetch" href="/zxz/assets/js/20.5ead02f3.js"><link rel="prefetch" href="/zxz/assets/js/21.5e7348ab.js"><link rel="prefetch" href="/zxz/assets/js/22.10afa0aa.js"><link rel="prefetch" href="/zxz/assets/js/23.0e495dfc.js"><link rel="prefetch" href="/zxz/assets/js/24.dc34df21.js"><link rel="prefetch" href="/zxz/assets/js/25.a2eac0e5.js"><link rel="prefetch" href="/zxz/assets/js/26.1e4179bb.js"><link rel="prefetch" href="/zxz/assets/js/27.70c587c7.js"><link rel="prefetch" href="/zxz/assets/js/28.f1a10345.js"><link rel="prefetch" href="/zxz/assets/js/29.3b211a85.js"><link rel="prefetch" href="/zxz/assets/js/3.8507ebb1.js"><link rel="prefetch" href="/zxz/assets/js/30.634a8e99.js"><link rel="prefetch" href="/zxz/assets/js/31.0bc75df9.js"><link rel="prefetch" href="/zxz/assets/js/32.79fa5310.js"><link rel="prefetch" href="/zxz/assets/js/33.3e502a98.js"><link rel="prefetch" href="/zxz/assets/js/34.05af0d7c.js"><link rel="prefetch" href="/zxz/assets/js/35.30bba2bd.js"><link rel="prefetch" href="/zxz/assets/js/36.24cda84f.js"><link rel="prefetch" href="/zxz/assets/js/37.d6f2aa9d.js"><link rel="prefetch" href="/zxz/assets/js/38.23812e8a.js"><link rel="prefetch" href="/zxz/assets/js/39.d76a3090.js"><link rel="prefetch" href="/zxz/assets/js/4.78d9e583.js"><link rel="prefetch" href="/zxz/assets/js/40.ff3d577d.js"><link rel="prefetch" href="/zxz/assets/js/41.1d1c5820.js"><link rel="prefetch" href="/zxz/assets/js/42.76c852b7.js"><link rel="prefetch" href="/zxz/assets/js/44.dfaaad83.js"><link rel="prefetch" href="/zxz/assets/js/45.494d59fc.js"><link rel="prefetch" href="/zxz/assets/js/46.eeeec9d0.js"><link rel="prefetch" href="/zxz/assets/js/47.842028c9.js"><link rel="prefetch" href="/zxz/assets/js/48.efaff255.js"><link rel="prefetch" href="/zxz/assets/js/5.f1696d17.js"><link rel="prefetch" href="/zxz/assets/js/6.84a89b03.js"><link rel="prefetch" href="/zxz/assets/js/7.cb4465c4.js"><link rel="prefetch" href="/zxz/assets/js/8.35295575.js"><link rel="prefetch" href="/zxz/assets/js/9.6e22fe94.js">
    <link rel="stylesheet" href="/zxz/assets/css/0.styles.88aca36b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/zxz/" class="home-link router-link-active"><!----> <span class="site-name">æ›¾å°æ›¾çš„å‰ç«¯å°ç«™</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/zxz/" class="nav-link">
  ä¸»é¡µ
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ä»£ç è§„èŒƒ" class="dropdown-title"><span class="title">ä»£ç è§„èŒƒ</span> <span class="arrow down"></span></button> <button type="button" aria-label="ä»£ç è§„èŒƒ" class="mobile-dropdown-title"><span class="title">ä»£ç è§„èŒƒ</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zxz/code/html/" class="nav-link">
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/zxz/code/css/" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/zxz/code/javascript/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/zxz/code/es6/" class="nav-link">
  ECMAScript 6
</a></li><li class="dropdown-item"><!----> <a href="/zxz/code/react/" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/zxz/code/vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/zxz/code/experience/" class="nav-link">
  ä½“éªŒæ€§
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç»„ä»¶åŒ–" class="dropdown-title"><span class="title">ç»„ä»¶åŒ–</span> <span class="arrow down"></span></button> <button type="button" aria-label="ç»„ä»¶åŒ–" class="mobile-dropdown-title"><span class="title">ç»„ä»¶åŒ–</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zxz/components/directives/" class="nav-link">
  æŒ‡ä»¤
</a></li><li class="dropdown-item"><!----> <a href="/zxz/components/filters/" class="nav-link">
  è¿‡æ»¤å™¨
</a></li><li class="dropdown-item"><!----> <a href="/zxz/components/utils/" class="nav-link">
  å·¥å…·åº“
</a></li><li class="dropdown-item"><!----> <a href="/zxz/components/css/" class="nav-link">
  é¢„å¤„ç†è¯­è¨€
</a></li><li class="dropdown-item"><!----> <a href="/zxz/components/times/" class="nav-link">
  æ—¥æœŸå·¥å…·å‡½æ•°
</a></li><li class="dropdown-item"><!----> <a href="/zxz/components/skills/" class="nav-link">
  Vueå¼€å‘æŠ€å·§
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å®æˆ˜" class="dropdown-title"><span class="title">å®æˆ˜</span> <span class="arrow down"></span></button> <button type="button" aria-label="å®æˆ˜" class="mobile-dropdown-title"><span class="title">å®æˆ˜</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zxz/projects/vue3.0/" class="nav-link">
  Vue 3.0
</a></li><li class="dropdown-item"><!----> <a href="/zxz/projects/h5/" class="nav-link">
  H5æ”¯ä»˜
</a></li><li class="dropdown-item"><!----> <a href="/zxz/projects/componentization/" class="nav-link">
  ç»„ä»¶åŒ–åˆ†äº«
</a></li><li class="dropdown-item"><!----> <a href="/zxz/projects/uniApp/" class="nav-link">
  å¾®ä¿¡å°ç¨‹åº
</a></li><li class="dropdown-item"><!----> <a href="/zxz/projects/unionpay/" class="nav-link">
  äº‘é—ªä»˜å°ç¨‹åº
</a></li><li class="dropdown-item"><!----> <a href="/zxz/projects/react/" class="nav-link">
  React+Redux-saga
</a></li><li class="dropdown-item"><!----> <a href="/zxz/projects/vue2.0/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Vue 2.0+Ts
</a></li><li class="dropdown-item"><!----> <a href="/zxz/projects/jenkins/" class="nav-link">
  Jenkinsè‡ªåŠ¨éƒ¨ç½²
</a></li></ul></div></div><div class="nav-item"><a href="/zxz/tools/" class="nav-link">
  å·¥å…·åº“
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/zxz/" class="nav-link">
  ä¸»é¡µ
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ä»£ç è§„èŒƒ" class="dropdown-title"><span class="title">ä»£ç è§„èŒƒ</span> <span class="arrow down"></span></button> <button type="button" aria-label="ä»£ç è§„èŒƒ" class="mobile-dropdown-title"><span class="title">ä»£ç è§„èŒƒ</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zxz/code/html/" class="nav-link">
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/zxz/code/css/" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/zxz/code/javascript/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/zxz/code/es6/" class="nav-link">
  ECMAScript 6
</a></li><li class="dropdown-item"><!----> <a href="/zxz/code/react/" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/zxz/code/vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/zxz/code/experience/" class="nav-link">
  ä½“éªŒæ€§
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç»„ä»¶åŒ–" class="dropdown-title"><span class="title">ç»„ä»¶åŒ–</span> <span class="arrow down"></span></button> <button type="button" aria-label="ç»„ä»¶åŒ–" class="mobile-dropdown-title"><span class="title">ç»„ä»¶åŒ–</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zxz/components/directives/" class="nav-link">
  æŒ‡ä»¤
</a></li><li class="dropdown-item"><!----> <a href="/zxz/components/filters/" class="nav-link">
  è¿‡æ»¤å™¨
</a></li><li class="dropdown-item"><!----> <a href="/zxz/components/utils/" class="nav-link">
  å·¥å…·åº“
</a></li><li class="dropdown-item"><!----> <a href="/zxz/components/css/" class="nav-link">
  é¢„å¤„ç†è¯­è¨€
</a></li><li class="dropdown-item"><!----> <a href="/zxz/components/times/" class="nav-link">
  æ—¥æœŸå·¥å…·å‡½æ•°
</a></li><li class="dropdown-item"><!----> <a href="/zxz/components/skills/" class="nav-link">
  Vueå¼€å‘æŠ€å·§
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å®æˆ˜" class="dropdown-title"><span class="title">å®æˆ˜</span> <span class="arrow down"></span></button> <button type="button" aria-label="å®æˆ˜" class="mobile-dropdown-title"><span class="title">å®æˆ˜</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zxz/projects/vue3.0/" class="nav-link">
  Vue 3.0
</a></li><li class="dropdown-item"><!----> <a href="/zxz/projects/h5/" class="nav-link">
  H5æ”¯ä»˜
</a></li><li class="dropdown-item"><!----> <a href="/zxz/projects/componentization/" class="nav-link">
  ç»„ä»¶åŒ–åˆ†äº«
</a></li><li class="dropdown-item"><!----> <a href="/zxz/projects/uniApp/" class="nav-link">
  å¾®ä¿¡å°ç¨‹åº
</a></li><li class="dropdown-item"><!----> <a href="/zxz/projects/unionpay/" class="nav-link">
  äº‘é—ªä»˜å°ç¨‹åº
</a></li><li class="dropdown-item"><!----> <a href="/zxz/projects/react/" class="nav-link">
  React+Redux-saga
</a></li><li class="dropdown-item"><!----> <a href="/zxz/projects/vue2.0/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Vue 2.0+Ts
</a></li><li class="dropdown-item"><!----> <a href="/zxz/projects/jenkins/" class="nav-link">
  Jenkinsè‡ªåŠ¨éƒ¨ç½²
</a></li></ul></div></div><div class="nav-item"><a href="/zxz/tools/" class="nav-link">
  å·¥å…·åº“
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span></span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/zxz/projects/vue2.0/" aria-current="page" class="active sidebar-link">é¡¹ç›®é¢„è§ˆ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zxz/projects/vue2.0/#é¡¹ç›®é¢„è§ˆ" class="sidebar-link">é¡¹ç›®é¢„è§ˆ</a></li><li class="sidebar-sub-header"><a href="/zxz/projects/vue2.0/#ç®€ä»‹" class="sidebar-link">ç®€ä»‹</a></li><li class="sidebar-sub-header"><a href="/zxz/projects/vue2.0/#ä¸€ã€æŠ€æœ¯æ ˆ" class="sidebar-link">ä¸€ã€æŠ€æœ¯æ ˆ</a></li><li class="sidebar-sub-header"><a href="/zxz/projects/vue2.0/#äºŒã€é¡¹ç›®è¯´æ˜" class="sidebar-link">äºŒã€é¡¹ç›®è¯´æ˜</a></li><li class="sidebar-sub-header"><a href="/zxz/projects/vue2.0/#ä¸‰ã€tsç”¨æ³•ä»‹ç»" class="sidebar-link">ä¸‰ã€tsç”¨æ³•ä»‹ç»</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zxz/projects/vue2.0/#component-ç±»è£…é¥°å™¨" class="sidebar-link">@Component ç±»è£…é¥°å™¨</a></li><li class="sidebar-sub-header"><a href="/zxz/projects/vue2.0/#prop" class="sidebar-link">@Prop</a></li><li class="sidebar-sub-header"><a href="/zxz/projects/vue2.0/#emit" class="sidebar-link">@Emit</a></li><li class="sidebar-sub-header"><a href="/zxz/projects/vue2.0/#watch-è§‚å¯Ÿå±æ€§è£…é¥°å™¨" class="sidebar-link">@Watch è§‚å¯Ÿå±æ€§è£…é¥°å™¨</a></li><li class="sidebar-sub-header"><a href="/zxz/projects/vue2.0/#minxins" class="sidebar-link">@Minxins</a></li><li class="sidebar-sub-header"><a href="/zxz/projects/vue2.0/#model" class="sidebar-link">@Model</a></li><li class="sidebar-sub-header"><a href="/zxz/projects/vue2.0/#provide-inject" class="sidebar-link">@Provide @Inject</a></li><li class="sidebar-sub-header"><a href="/zxz/projects/vue2.0/#ref-refkey-string" class="sidebar-link">@Ref(refKey?: string)</a></li><li class="sidebar-sub-header"><a href="/zxz/projects/vue2.0/#é’©å­å‡½æ•°" class="sidebar-link">é’©å­å‡½æ•°</a></li></ul></li><li class="sidebar-sub-header"><a href="/zxz/projects/vue2.0/#æ­å»ºç¯å¢ƒ" class="sidebar-link">æ­å»ºç¯å¢ƒ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zxz/projects/vue2.0/#å®‰è£…" class="sidebar-link">å®‰è£…</a></li><li class="sidebar-sub-header"><a href="/zxz/projects/vue2.0/#æ”¹é€ æˆtypescripté¡¹ç›®" class="sidebar-link">æ”¹é€ æˆtypescripté¡¹ç›®</a></li><li class="sidebar-sub-header"><a href="/zxz/projects/vue2.0/#_2-æŒ‰éœ€å¼•å…¥element-ui" class="sidebar-link">â‘¡ æŒ‰éœ€å¼•å…¥element-ui</a></li><li class="sidebar-sub-header"><a href="/zxz/projects/vue2.0/#_3-å®šåˆ¶ä¸»é¢˜" class="sidebar-link">â‘¢ å®šåˆ¶ä¸»é¢˜</a></li><li class="sidebar-sub-header"><a href="/zxz/projects/vue2.0/#warn-è­¦å‘Šä¿®å¤" class="sidebar-link">Warn è­¦å‘Šä¿®å¤</a></li></ul></li><li class="sidebar-sub-header"><a href="/zxz/projects/vue2.0/#ç™»å½•é¡µé¢å¼€å‘" class="sidebar-link">ç™»å½•é¡µé¢å¼€å‘</a></li><li class="sidebar-sub-header"><a href="/zxz/projects/vue2.0/#axios-api" class="sidebar-link">axios api</a></li><li class="sidebar-sub-header"><a href="/zxz/projects/vue2.0/#çŠ¶æ€ç®¡ç†vuex" class="sidebar-link">çŠ¶æ€ç®¡ç†Vuex</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zxz/projects/vue2.0/#å®šä¹‰module" class="sidebar-link">å®šä¹‰module</a></li><li class="sidebar-sub-header"><a href="/zxz/projects/vue2.0/#state" class="sidebar-link">state</a></li><li class="sidebar-sub-header"><a href="/zxz/projects/vue2.0/#getters" class="sidebar-link">Getters</a></li><li class="sidebar-sub-header"><a href="/zxz/projects/vue2.0/#mutations" class="sidebar-link">Mutations</a></li><li class="sidebar-sub-header"><a href="/zxz/projects/vue2.0/#action" class="sidebar-link">Action</a></li></ul></li><li class="sidebar-sub-header"><a href="/zxz/projects/vue2.0/#layout-å¯¼èˆªèœå•" class="sidebar-link">layout å¯¼èˆªèœå•</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zxz/projects/vue2.0/#layout-æ­¥éª¤" class="sidebar-link">layout æ­¥éª¤ï¼š</a></li><li class="sidebar-sub-header"><a href="/zxz/projects/vue2.0/#è·¯ç”±å®ˆå«" class="sidebar-link">è·¯ç”±å®ˆå«</a></li><li class="sidebar-sub-header"><a href="/zxz/projects/vue2.0/#_404-é”™è¯¯è·¯å¾„" class="sidebar-link">404 é”™è¯¯è·¯å¾„</a></li><li class="sidebar-sub-header"><a href="/zxz/projects/vue2.0/#è·¯ç”±iconé…ç½®" class="sidebar-link">è·¯ç”±Iconé…ç½®</a></li></ul></li><li class="sidebar-sub-header"><a href="/zxz/projects/vue2.0/#å›½é™…åŒ–" class="sidebar-link">å›½é™…åŒ–</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zxz/projects/vue2.0/#æ‰©å±•å†…å®¹" class="sidebar-link">æ‰©å±•å†…å®¹</a></li><li class="sidebar-sub-header"><a href="/zxz/projects/vue2.0/#æ¢è‚¤" class="sidebar-link">æ¢è‚¤</a></li><li class="sidebar-sub-header"><a href="/zxz/projects/vue2.0/#è½®æ’­å›¾å’Œecharts" class="sidebar-link">è½®æ’­å›¾å’Œecharts</a></li><li class="sidebar-sub-header"><a href="/zxz/projects/vue2.0/#è¡¨æ ¼åˆ†é¡µã€æœç´¢" class="sidebar-link">è¡¨æ ¼åˆ†é¡µã€æœç´¢</a></li><li class="sidebar-sub-header"><a href="/zxz/projects/vue2.0/#ç™»å½•èƒŒæ™¯åŠ¨æ•ˆå›¾" class="sidebar-link">ç™»å½•èƒŒæ™¯åŠ¨æ•ˆå›¾</a></li></ul></li><li class="sidebar-sub-header"><a href="/zxz/projects/vue2.0/#æºç " class="sidebar-link">æºç </a></li><li class="sidebar-sub-header"><a href="/zxz/projects/vue2.0/#å‚è€ƒ" class="sidebar-link">å‚è€ƒ</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="é¡¹ç›®é¢„è§ˆ"><a href="#é¡¹ç›®é¢„è§ˆ" class="header-anchor">#</a> é¡¹ç›®é¢„è§ˆ</h2> <p><img src="https://user-gold-cdn.xitu.io/2020/1/13/16f9c4f830e52ebf?w=480&amp;h=296&amp;f=gif&amp;s=2863431" alt=""></p> <p><img src="https://user-gold-cdn.xitu.io/2020/1/13/16f9c38738097c03?w=2154&amp;h=1350&amp;f=png&amp;s=1595150" alt=""></p> <p><img src="https://user-gold-cdn.xitu.io/2020/1/13/16f9c3932101039a?w=2160&amp;h=1350&amp;f=png&amp;s=2216780" alt=""></p> <p><img src="https://user-gold-cdn.xitu.io/2020/1/13/16f9c3981b0c483d?w=2430&amp;h=1400&amp;f=png&amp;s=213171" alt=""></p> <p>åˆ†äº«ä¸æ˜“ï¼Œå–œæ¬¢çš„è¯ä¸€å®šåˆ«å¿˜äº†ç‚¹<font color="red" size="12">ğŸ’–</font></p> <p>åªå…³æ³¨ä¸ç‚¹<font color="red" size="12">ğŸ’–</font>çš„éƒ½æ˜¯<code>è€æµæ°“</code></p> <p>åªæ”¶è—ä¹Ÿä¸ç‚¹<font color="red" size="12">ğŸ’–</font>çš„ä¹Ÿä¸€æ ·æ˜¯<code>è€æµæ°“</code>ã€‚</p> <h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="header-anchor">#</a> ç®€ä»‹</h2> <p>tsé¦™ä¸é¦™è¿™é‡Œæˆ‘å°±ä¸åšè¿‡å¤šå¹æ§äº†ï¼ŒåŸºç¡€<a href="https://typescript.bootcss.com/" target="_blank" rel="noopener noreferrer">apiå®˜æ–¹æ–‡æ¡£<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>æœ‰æ¯”è¾ƒæ¸…æ™°çš„ä»‹ç»ï¼Œæœ¬ç¯‡åšå®¢ä¸»è¦åˆ†äº«Vue+typescript+element-uiï¼Œåå°ç®¡ç†ç³»ç»Ÿå®æˆ˜ç¯‡ã€‚</p> <p>ç®€å•æ¥è¯´ï¼Œtså±äºå¼ºç±»å‹è¯­è¨€ï¼Œå®ƒçš„ä¼˜åŠ¿åœ¨äºé™æ€ç±»å‹æ£€æŸ¥ï¼Œæ¦‚æ‹¬æ¥è¯´ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ç‚¹ï¼š</p> <ul><li>é™æ€ç±»å‹æ£€æŸ¥</li> <li>IDE æ™ºèƒ½æç¤º</li> <li>ä»£ç é‡æ„</li> <li>å¯è¯»æ€§</li></ul> <h2 id="ä¸€ã€æŠ€æœ¯æ ˆ"><a href="#ä¸€ã€æŠ€æœ¯æ ˆ" class="header-anchor">#</a> ä¸€ã€æŠ€æœ¯æ ˆ</h2> <ul><li>Typescript</li> <li>vue-cli 3.x+</li> <li>Yarn</li> <li>Sass</li> <li>Element-ui</li> <li>Vuex</li> <li>...</li></ul> <h2 id="äºŒã€é¡¹ç›®è¯´æ˜"><a href="#äºŒã€é¡¹ç›®è¯´æ˜" class="header-anchor">#</a> äºŒã€é¡¹ç›®è¯´æ˜</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>yarn install  //ä¾èµ–å®‰è£…
yarn run serve //é¡¹ç›®å¯åŠ¨
yarn run build:prod //æ‰“åŒ…
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="ä¸‰ã€tsç”¨æ³•ä»‹ç»"><a href="#ä¸‰ã€tsç”¨æ³•ä»‹ç»" class="header-anchor">#</a> ä¸‰ã€tsç”¨æ³•ä»‹ç»</h2> <p>æœ¬æ¬¡é¡¹ç›®åŸºç¡€æ¡†æ¶ä¸ºVueï¼Œè·Ÿæ­£å¸¸çš„Vueé¡¹ç›®è¿˜æ˜¯æˆ–å¤šæˆ–å°‘æœ‰ä¸å°‘å·®è·çš„ã€‚ä¼—æ‰€å‘¨çŸ¥ï¼Œjsæ˜¯ä¸€é—¨å¼±ç±»å‹çš„è¯­è¨€ï¼Œå°¤å…¶æ˜¯åœ¨å˜é‡èµ‹å€¼æ—¶ï¼Œæ°¸è¿œéƒ½æ˜¯ç»™å˜é‡ç›´æ¥èµ‹å€¼å„ç§ç±»å‹å€¼æ¥åˆå§‹åŒ–ï¼Œçº¿ä¸Šä¸€äº›éšè—çš„bugå°±å†·ä¸é˜²ä¼šæš´éœ²å‡ºæ¥ã€‚æŠŠè¿™ç§é”™è¯¯æ‰¼æ€åœ¨é¡¹ç›®å¼€å‘ç¼–è¯‘é˜¶æ®µè€Œéä¸Šçº¿é˜¶æ®µï¼Œæ‰€æœ‰å°±æœ‰äº†typescriptè¶…é›†çš„å‡ºç°ã€‚</p> <p>é‚£Vueä¸­æ˜¯æ€ä¹ˆå¼•ç”¨typescripté¡¹ç›®çš„å‘¢ï¼Œé¡¹ç›®å¼€å§‹ä¹‹å‰ï¼Œå…ˆå¤§è‡´ä»‹ç»ä¸€ç•ªtsåœ¨Vueé¡¹ç›®ä¸­çš„åŸºç¡€ç”¨æ³•</p> <blockquote><p><a href="https://github.com/kaorun343/vue-property-decorator" target="_blank" rel="noopener noreferrer">vue-property-decorator<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <p><code>vue-property-decorator</code>åœ¨<code>vue-class-component</code>çš„åŸºç¡€ä¸Šå¢åŠ äº†æ›´å¤šä¸<code>Vue</code>ç›¸å…³çš„è£…é¥°å™¨ï¼Œä½¿<code>Vue</code>ç»„ä»¶æ›´å¥½çš„è·ŸTSç»“åˆä½¿ç”¨ã€‚è¿™ä¸¤è€…éƒ½æ˜¯ç¦»ä¸å¼€è£…é¥°å™¨çš„ï¼Œï¼ˆdecoratorï¼‰è£…é¥°å™¨å·²åœ¨ESææ¡ˆä¸­ã€‚<code>Decorator</code>æ˜¯è£…é¥°å™¨æ¨¡å¼çš„å®è·µã€‚è£…é¥°å™¨æ¨¡å¼å‘¢ï¼Œå®ƒæ˜¯ç»§æ‰¿å…³ç³»çš„ä¸€ä¸ªæ›¿ä»£æ–¹æ¡ˆã€‚åŠ¨æ€åœ°ç»™å¯¹è±¡æ·»åŠ é¢å¤–çš„èŒè´£ã€‚åœ¨ä¸æ”¹å˜æ¥å£çš„å‰æä¸‹ï¼Œå¢å¼ºç±»çš„æ€§èƒ½ã€‚</p> <p><code>vue-property-decorator</code>æ˜¯è¿™ä¸ªVueé¡¹ç›®æ–‡ä»¶ä¸­å®Œå…¨ä¾èµ–çš„åº“ï¼Œå®ƒæ˜¯Vueå®˜æ–¹æ¨èçš„å¹¶ä¸”ä¾èµ–äº<a href="https://github.com/vuejs/vue-class-component" target="_blank" rel="noopener noreferrer">vue-class-component<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ï¼Œå…ˆä»‹ç»ä¸‹å®ƒåœ¨é¡¹ç›®ä¸­çš„å¸¸è§ç”¨æ³•ã€‚</p> <ul><li>@Component</li> <li>@Emit</li> <li>@Provice @Inject</li> <li>@Prop</li> <li>@Watch</li> <li>@Model</li> <li>@Minxins</li></ul> <h3 id="component-ç±»è£…é¥°å™¨"><a href="#component-ç±»è£…é¥°å™¨" class="header-anchor">#</a> @Component ç±»è£…é¥°å™¨</h3> <p>é¦–å…ˆï¼ŒVueé¡µé¢ä¸­çš„scriptéƒ¨åˆ†è¦åŠ ä¸€ä¸ªlang=tsï¼Œè¿™æ ·å®‰è£…å¥½typescriptæ­£èƒ½å¼•ç”¨</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;script lang=&quot;ts&quot;&gt;
    import {Vue, Component} from 'vue-property-decorator';
    import BaseHeader from '@/components/BaseHeader'; 
    
    //å…¬å…±å¤´éƒ¨ç»„ä»¶
    @Component({
        components: {
            BaseHeader
        }
    })
    export default class extends Vue {
        private stateA:boolean = true
        private stateB:string = ''
        private stateC:number = 0
        private stateD:any = {}
        stateE:any[] = []
    }
&lt;/script&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>ç­‰åŒäº</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;script&gt;
    import Vue from 'vue';
    import BaseHeader from '@/components/BaseHeader'; //å…¬å…±å¤´éƒ¨ç»„ä»¶

    export default {
        components: {
            BaseHeader
        },
        
        data(){
            return {
                stateA: true,
                stateB: '',
                stateC: 0,
                stateD: {},
                stateE: []
            }	
        }
    }
&lt;/script&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p><code>vue-property-decorator</code>åœ¨é¡¹ç›®ä¸­çš„åº”ç”¨æœ€ä¸»è¦æ˜¯èµ·ä¸€ä¸ªè£…é¥°å™¨çš„ä½œç”¨ï¼Œå·®å¼‚åŒ–çš„è¯çœ‹å¯¹æ¯”å°±éå¸¸ç›´è§‚äº†</p> <p>dataå˜é‡çš„å®šä¹‰æ¯”è¾ƒå¤šå…ƒåŒ–ï¼Œè¿™é‡ŒåŒºåˆ«æœ‰åŠ privateï¼Œä¸åŠ å°±æ˜¯publicï¼Œå½“å˜é‡æ ‡è®°ä¸ºprivateæ—¶ï¼Œå®ƒå°±ä¸èƒ½åœ¨å£°æ˜å®ƒçš„ç±»çš„å¤–éƒ¨è®¿é—®ã€‚</p> <p><code>@Component</code>è£…é¥°å™¨å±æ€§åå¿…é¡»å¾—å†™ä¸Š</p> <hr> <h3 id="prop"><a href="#prop" class="header-anchor">#</a> @Prop</h3> <p>çˆ¶å­ç»„ä»¶ä¹‹é—´çš„å±æ€§ä¼ å€¼</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>export default class extends Vue {
    @Prop({ default: 0 }) private propA!: number
    @Prop({ default: () =&gt; [10, 20, 30, 50] }) private propB!: number[]
    @Prop({ default: 'total, sizes, prev, pager, next, jumper' }) private propC!: string
    @Prop({ default: true }) private propD!: boolean,
    @prop([String, Boolean]) propE: string | boolean;
}    
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>ç­‰åŒäº</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>export default {
  props: {
    propA: {
	    type: Number
    },
    propB: {
    	type: Array,
    	default: [10, 20, 30, 50]
    },
    propC: {
    	type: String,
    	default: 'total, sizes, prev, pager, next, jumper'
    },
    propD: {
    	type: String,
    	default: 'total, sizes, prev, pager, next, jumper'
    },
    propE: {
    	type: [String, Boolean]
    }
  }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>è¿™é‡Œæœ‰ä¸¤ä¸ªå¸¸ç”¨ä¿®é¥°ç¬¦<code>!``?</code>ï¼Œ<code>!</code>å’Œå¯é€‰å‚æ•°<code>?</code>æ˜¯ç›¸å¯¹çš„, <code>!</code>è¡¨ç¤ºå¼ºåˆ¶è§£æï¼ˆä¹Ÿå°±æ˜¯å‘Šè¯‰typescriptç¼–è¯‘å™¨ï¼Œæˆ‘è¿™é‡Œä¸€å®šæœ‰å€¼ï¼‰ï¼Œä½ å†™<code>?</code>çš„æ—¶å€™å†è°ƒç”¨ï¼Œ<code>typescript</code>ä¼šæç¤ºå¯èƒ½ä¸º<code>undefined</code></p> <hr> <h3 id="emit"><a href="#emit" class="header-anchor">#</a> @Emit</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>Component
export default class YourComponent extends Vue {
  count = 0

  @Emit('reset')
  resetCount() {
    this.count = 0
  }

  @Emit()
  returnValue() {
    return 10
  }

  @Emit()
  onInputChange(e) {
    return e.target.value
  }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>ç­‰åŒäº</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>export default {
  data() {
    return {
      count: 0
    }
  },
  
  methods: {
    resetCount() {
      this.count = 0
      this.$emit('reset')
    },
    
    returnValue() {
      this.$emit('return-value', 10)
    },
    
    onInputChange(e) {
      this.$emit('on-input-change', e.target.value, e)
    }
  }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p><code>@Emitè£…é¥°å™¨</code>çš„å‡½æ•°ä¼šåœ¨è¿è¡Œä¹‹åè§¦å‘ç­‰åŒäºå…¶å‡½æ•°å<code>(é©¼å³°å¼ä¼šè½¬ä¸ºæ¨ªæ å¼å†™æ³•)</code>çš„äº‹ä»¶, å¹¶å°†å…¶å‡½æ•°ä¼ é€’ç»™<code>$emit</code></p> <p>@Emitè§¦å‘äº‹ä»¶æœ‰ä¸¤ç§å†™æ³•</p> <ul><li>@Emit()ä¸ä¼ å‚æ•°,é‚£ä¹ˆå®ƒè§¦å‘çš„äº‹ä»¶åå°±æ˜¯å®ƒæ‰€ä¿®é¥°çš„å‡½æ•°å.</li> <li>@Emit(name: string),é‡Œé¢ä¼ é€’ä¸€ä¸ªå­—ç¬¦ä¸²,è¯¥å­—ç¬¦ä¸²ä¸ºè¦è§¦å‘çš„äº‹ä»¶å</li></ul> <hr> <h3 id="watch-è§‚å¯Ÿå±æ€§è£…é¥°å™¨"><a href="#watch-è§‚å¯Ÿå±æ€§è£…é¥°å™¨" class="header-anchor">#</a> @Watch è§‚å¯Ÿå±æ€§è£…é¥°å™¨</h3> <p>@Watchè£…é¥°å™¨ä¸»è¦ç”¨äºæ›¿ä»£<code>Vue</code>å±æ€§ä¸­çš„<code>watch</code>å±æ€§ï¼Œç›‘å¬ä¾èµ–çš„å˜é‡å€¼å˜åŒ–è€Œåšä¸€ç³»åˆ—çš„æ“ä½œ</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>@Component
export default class YourComponent extends Vue {
  @Watch('child')
  onChildChanged(val: string, oldVal: string) {}

  @Watch('person', { immediate: true, deep: true })
  onPersonChanged(val: Person, oldVal: Person) {}
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>ç­‰åŒäº</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>export default {
  watch: {
	child(val, oldVal) {},
	person: {
		handler(val, oldVal) {},
		immediate: true,
		deep: true
	}
  }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>watch æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡å°±æœ‰é”®ï¼Œæœ‰å€¼ã€‚</p> <ul><li>ç¬¬ä¸€ä¸ªhandlerï¼šå…¶å€¼æ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•°ã€‚å³ç›‘å¬åˆ°å˜åŒ–æ—¶åº”è¯¥æ‰§è¡Œçš„å‡½æ•°ã€‚</li> <li>ç¬¬äºŒä¸ªæ˜¯deepï¼šå…¶å€¼æ˜¯trueæˆ–falseï¼›ç¡®è®¤æ˜¯å¦æ·±å…¥ç›‘å¬ã€‚deepçš„æ„æ€å°±æ˜¯æ·±å…¥è§‚å¯Ÿï¼Œç›‘å¬å™¨ä¼šä¸€å±‚å±‚çš„å¾€ä¸‹éå†ï¼Œç»™å¯¹è±¡çš„æ‰€æœ‰å±æ€§éƒ½åŠ ä¸Šè¿™ä¸ªç›‘å¬å™¨ï¼ˆå—ç°ä»£ JavaScript çš„é™åˆ¶ (ä»¥åŠåºŸå¼ƒ Object.observe)ï¼ŒVue ä¸èƒ½æ£€æµ‹åˆ°å¯¹è±¡å±æ€§çš„æ·»åŠ æˆ–åˆ é™¤ï¼‰</li> <li>ç¬¬ä¸‰ä¸ªæ˜¯immediateï¼šå…¶å€¼æ˜¯trueæˆ–falseï¼›immediate:trueä»£è¡¨å¦‚æœåœ¨ wacth é‡Œå£°æ˜äº†ä¹‹åï¼Œå°±ä¼šç«‹å³å…ˆå»æ‰§è¡Œé‡Œé¢çš„handleræ–¹æ³•ï¼Œå¦‚æœä¸º falseå°±è·Ÿæˆ‘ä»¬ä»¥å‰çš„æ•ˆæœä¸€æ ·ï¼Œä¸ä¼šåœ¨ç»‘å®šçš„æ—¶å€™å°±æ‰§è¡Œ</li></ul> <p><code>@Watch</code>ä½¿ç”¨éå¸¸ç®€å•,æ¥å—ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºè¦ç›‘å¬çš„å±æ€§å, ç¬¬äºŒä¸ªå±æ€§ä¸ºå¯é€‰å¯¹è±¡ã€‚@Watchæ‰€è£…é¥°çš„å‡½æ•°å³ç›‘å¬åˆ°å±æ€§å˜åŒ–ä¹‹ååº”è¯¥æ‰§è¡Œçš„å‡½æ•°ã€‚</p> <p><code>@Watch</code>è£…é¥°çš„å‡½æ•°çš„å‡½æ•°åå¹¶éå¦‚ä¸Š<code>onStateChanged</code>ä¸¥æ ¼å‘½åï¼Œå®ƒæ˜¯å¤šå…ƒåŒ–çš„ï¼Œä½ å¯ä»¥éšå¿ƒæ‰€æ¬²çš„å‘½åï¼Œå½“ç„¶ï¼Œèƒ½æŒ‰ç…§è§„èŒƒåŒ–çš„å‘½åä¼šä½¿ä½ çš„ä»£ç é˜…è¯»æ€§æ›´å¥½ã€‚</p> <hr> <h3 id="minxins"><a href="#minxins" class="header-anchor">#</a> @Minxins</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>// myMixin.ts

@Component
export default class MyMixin extends Vue {
  mixinValue:string = 'Hello World!!!'
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>// å¼•ç”¨mixins
import MyMixin from './myMixin.js'

@Component
export default class extends mixins(MyMixin) {
  created () {
    console.log(this.mixinValue) // -&gt; Hello World!!!
  }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>ç„¶åæˆ‘åˆå·å­¦åˆ°äº†å¦å¤–ä¸€ç§mixinså†™æ³•ï¼Œè®°å½•ä¸€ä¸‹</p> <p>å…ˆæ”¹é€ ä¸€ä¸‹<code>myMixin.ts</code>,å®šä¹‰<code>vue/type/vue</code>æ¨¡å—,å®ç°<code>Vueæ¥å£</code></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>// myMixin.ts
import { Vue, Component } from 'vue-property-decorator';


declare module 'vue/types/vue' {
    interface Vue {
        mixinValue: string;
    }
}

@Component
export default class myMixins extends Vue {
    mixinValue: string = 'Hello World!!!'
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>å¼•ç”¨</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>import { Vue, Component, Prop } from 'vue-property-decorator';
import MyMixin from './myMixin.js'

@Component({
    mixins: [MyMixin]
})
export default class extends Vue{
    created(){
        console.log(mixinValue) // =&gt; Hello World!!!
    }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>ä¸¤ç§æ–¹å¼ä¸åŒåœ¨äºå®šä¹‰<code>mixins</code>æ—¶å¦‚æœæ²¡æœ‰å®šä¹‰<code>vue/type/vue</code>æ¨¡å—, é‚£ä¹ˆåœ¨æ··å…¥çš„æ—¶å€™å°±è¦ç»§æ‰¿è¯¥<code>mixins</code>; å¦‚æœå®šä¹‰<code>vue/type/vue</code>æ¨¡å—,åœ¨æ··å…¥æ—¶å¯ä»¥åœ¨<code>@Component</code>ä¸­<code>mixins</code>ç›´æ¥æ··å…¥ã€‚</p> <hr> <h3 id="model"><a href="#model" class="header-anchor">#</a> @Model</h3> <p><code>@Modelè£…é¥°å™¨</code>å…è®¸æˆ‘ä»¬åœ¨ä¸€ä¸ªç»„ä»¶ä¸Šè‡ªå®šä¹‰<code>v-model</code>ï¼Œæ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼š</p> <ul><li>event: string äº‹ä»¶åã€‚</li> <li>options: Constructor | Constructor[] | PropOptions ä¸@Propçš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸€è‡´ã€‚</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>import { Vue, Component, Model } from 'vue-property-decorator'

@Component
export default class MyInput extends Vue {
  @Model('change', { type: String, default: 'Hello world!!!' }) readonly value!: string
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>ç­‰åŒäº</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;template&gt;
  &lt;input
    type=&quot;text&quot;
    :value=&quot;value&quot;
    @change=&quot;$emit('change', $event.target.value)&quot;
  /&gt;
&lt;/template&gt;

export default {
  model: {
    prop: 'value',
    event: 'change'
  },
  props: {
    value: {
      type: String,
      default: 'Hello world!!!'
    }
  }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><hr> <h3 id="provide-inject"><a href="#provide-inject" class="header-anchor">#</a> @Provide @Inject</h3> <p><code>@Provide</code> å£°æ˜ä¸€ä¸ªå€¼ , åœ¨å…¶ä»–åœ°æ–¹ç”¨ <code>@Inject</code> æ¥æ”¶ï¼Œåœ¨å®æˆ˜é¡¹ç›®ä¸­ç”¨å¾—ä¸å¤šï¼Œä¸€èˆ¬ç”¨äºä¸ä¾èµ–äºä»»ä½•ç¬¬ä¸‰æ–¹çŠ¶æ€ç®¡ç†åº“<font color="red">ï¼ˆå¦‚vuexï¼‰</font>çš„ç»„ä»¶ç¼–å†™</p> <hr> <h3 id="ref-refkey-string"><a href="#ref-refkey-string" class="header-anchor">#</a> @Ref(refKey?: string)</h3> <p><code>@Ref</code>è£…é¥°å™¨æ¥æ”¶ä¸€ä¸ªå¯é€‰å‚æ•°ï¼Œç”¨æ¥æŒ‡å‘å…ƒç´ æˆ–å­ç»„ä»¶çš„å¼•ç”¨ä¿¡æ¯ã€‚å¦‚æœæ²¡æœ‰æä¾›è¿™ä¸ªå‚æ•°ï¼Œä¼šä½¿ç”¨è£…é¥°å™¨åé¢çš„å±æ€§åå……å½“å‚æ•°</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>import { Vue, Component, Ref } from 'vue-property-decorator'
import { Form } from 'element-ui'

@Componentexport default class MyComponent extends Vue {
  @Ref() readonly loginForm!: Form
  @Ref('changePasswordForm') readonly passwordForm!: Form

  public handleLogin() {
    this.loginForm.validate(valide =&gt; {
      if (valide) {
        // login...
      } else {
        // error tips
      }
    })
  }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>ç­‰åŒäº</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>export default {
  computed: {
    loginForm: {
      cache: false,
      get() {
        return this.$refs.loginForm
      }
    },
    passwordForm: {
      cache: false,
      get() {
        return this.$refs.changePasswordForm
      }
    }
  }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><hr> <Font size="4" color="red">ä½¿ç”¨æ—¶åˆ‡è®°è¦å¼•å…¥ä¿®é¥°å™¨</Font> <div class="language- line-numbers-mode"><pre class="language-text"><code>import {
	Vue,
	Component,
	Prop,
	Component,
	Emit,
	Provice,
	Inject,
	Watch,
	Model,
	Minxins,
} from 'vue-property-decorator'
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><hr> <h3 id="é’©å­å‡½æ•°"><a href="#é’©å­å‡½æ•°" class="header-anchor">#</a> é’©å­å‡½æ•°</h3> <p>ä»¥ä¸‹çš„<code>publicã€private</code>åœ¨å¼•å…¥tslintåæ˜¯å¿…å†™çš„ï¼Œå¦åˆ™ä¼šæœ‰è­¦å‘Šï¼Œå¦‚æœæ²¡æœ‰å¼•çš„è¯æ˜¯å¯ä»¥ä¸å†™çš„</p> <table><thead><tr><th style="text-align:left;">Ts</th> <th style="text-align:center;">Js</th> <th style="text-align:right;">è¯´æ˜</th></tr></thead> <tbody><tr><td style="text-align:left;">public created() {}</td> <td style="text-align:center;">created() {}</td> <td style="text-align:right;">åˆå§‹åŒ–</td></tr> <tr><td style="text-align:left;">public mounted() {}</td> <td style="text-align:center;">mounted() {}</td> <td style="text-align:right;">æŒ‚è½½å®Œæ¯•</td></tr> <tr><td style="text-align:left;">private _getInitData() {}</td> <td style="text-align:center;">methods: { _getInitData() {} }</td> <td style="text-align:right;">æ–¹æ³•</td></tr> <tr><td style="text-align:left;">private get _userName() {}</td> <td style="text-align:center;">computed: { _userName() {} }</td> <td style="text-align:right;">è®¡ç®—å±æ€§</td></tr> <tr><td style="text-align:left;">public destroyed() {}</td> <td style="text-align:center;">destroyed() {}</td> <td style="text-align:right;">é”€æ¯ç”Ÿå‘½å‘¨æœŸ</td></tr></tbody></table> <hr> <h2 id="æ­å»ºç¯å¢ƒ"><a href="#æ­å»ºç¯å¢ƒ" class="header-anchor">#</a> æ­å»ºç¯å¢ƒ</h2> <h3 id="å®‰è£…"><a href="#å®‰è£…" class="header-anchor">#</a> å®‰è£…</h3> <p>å®‰è£…<code>vue-cli</code>æœ€æ–°ç‰ˆ</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>npm install -g @vue/cli
# OR
yarn global add @vue/cli

//æŸ¥çœ‹æ˜¯å¦å®‰è£…æ­£ç¡®
vue --version


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><blockquote><p>åˆ›å»ºé¡¹ç›®</p></blockquote> <div class="language- line-numbers-mode"><pre class="language-text"><code>? Please pick a preset:(ä½¿ç”¨ä¸Šä¸‹ç®­å¤´)
 â—¯ default (babel, eslint)        //é»˜è®¤é…ç½®
â¯â—‰ Manually select features       //æ‰‹åŠ¨é€‰æ‹©
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>? Check the features needed for your project:
 â—‰ Babel                                    // javascriptè½¬è¯‘å™¨
 â—‰ TypeScript                               // ä½¿ç”¨ TypeScript ä¹¦å†™æºç 
 â—¯ Progressive Web App (PWA) Support        // æ¸è¿›å¼WEBåº”ç”¨
 â—‰ Router                                   // ä½¿ç”¨vue-router
 â—‰ Vuex                                     // ä½¿ç”¨vuex
 â—‰ CSS Pre-processors                       // ä½¿ç”¨cssé¢„å¤„ç†å™¨
â¯â—‰ Linter / Formatter                       // ä»£ç è§„èŒƒæ ‡å‡†
 â—¯ Unit Testing                             // å•å…ƒæµ‹è¯•
 â—¯ E2E Testing                              // e2eæµ‹è¯•
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>æ˜¯å¦ä½¿ç”¨classé£æ ¼çš„ç»„ä»¶è¯­æ³•ï¼š
ä½¿ç”¨å‰ï¼šhome = new Vue()åˆ›å»ºvueå®ä¾‹
ä½¿ç”¨åï¼šclass home extends Vue{}</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>? Use class-style component syntax? (Y/n) Y

// ä½¿ç”¨Babelä¸TypeScriptä¸€èµ·ç”¨äºè‡ªåŠ¨æ£€æµ‹çš„å¡«å……
? Use Babel alongside TypeScript (required for modern mode, auto-detected polyfills, transpiling JSX)? (Y/n) Y

// è·¯ç”±
? Use history mode for router? (Requires proper server setup for index fallback in production) (Y/n) Y

// é¢„å¤„ç†å™¨
? Pick a CSS pre-processor (PostCSS, Autoprefixer and CSS Modules are supported by default): (Use arrow keys)
â¯â—‰ Sass/SCSS (with dart-sass)    // ä¿å­˜åç¼–è¯‘
 â—¯ Sass/SCSS (with node-sass)    // å®æ—¶ç¼–è¯‘ 
 â—¯ Less
 â—¯ Stylus

// ä»£ç æ ¼å¼åŒ–æ£€æµ‹
? Pick a linter / formatter config: (Use arrow keys)
 â—¯ ESLint with error prevention only     // åªè¿›è¡ŒæŠ¥é”™æé†’
 â—¯ ESLint + Airbnb config                // ä¸ä¸¥è°¨æ¨¡å¼
 â—¯ ESLint + Standard config              // æ­£å¸¸æ¨¡å¼
 â—¯ ESLint + Prettier                     // ä¸¥æ ¼æ¨¡å¼
â¯â—‰ TSLint(deprecated)                    // typescriptæ ¼å¼éªŒè¯å·¥å…·

// ä»£ç æ£€æŸ¥æ–¹å¼
? Pick additional lint features: (Press &lt;space&gt; to select, &lt;a&gt;
to toggle all, &lt;i&gt; to invert selection)
â¯â—‰ Lint on save             // ä¿å­˜æ£€æŸ¥
 â—¯ Lint and fix on commit   // commitæ—¶fix

// æ–‡ä»¶é…ç½®
? Where do you prefer placing config for Babel, ESLint, etc.? (
Use arrow keys)
â¯ In dedicated config files // é…ç½®åœ¨ç‹¬ç«‹çš„æ–‡ä»¶ä¸­
  In package.json
  
// ä¿å­˜ä¸Šè¿°é…ç½®ï¼Œä¿å­˜åä¸‹ä¸€æ¬¡å¯ç›´æ¥æ ¹æ®ä¸Šè¿°é…ç½®ç”Ÿæˆé¡¹ç›®
? Save this as a preset for future projects? (y/N) N

// åˆ›å»ºæˆåŠŸ
ğŸ‰  Successfully created project vue-typescript-admin-demo.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br></div></div><p><code>yarn run serve</code>è¿è¡Œé¡¹ç›®ä¹‹åä¼šæŠ¥ä¸€å †è«åçš„é”™è¯¯ï¼Œè¿™éƒ½æ˜¯ <em>tslint.json</em> æçš„é¬¼ï¼Œé…ç½®ä¸€ä¸‹é‡æ–°è¿è¡Œå³å¯</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>// tsconfig.json
Error: Calls to 'console.log' are not allowed.

Error: å»é™¤è¡Œå°¾å¿…åŠ ';'

Error: ç¦æ­¢è‡ªåŠ¨æ£€æµ‹æœ«å°¾è¡Œå¿…é¡»ä½¿ç”¨é€—å·ï¼Œalwaysæ€»æ˜¯æ£€æµ‹ï¼Œneverä»ä¸æ£€æµ‹ï¼Œignoreå¿½ç•¥æ£€æµ‹

&quot;rules&quot;: {
    &quot;no-console&quot;: false,
    &quot;semicolon&quot;: [
        false,
        &quot;always&quot;
    ],
    &quot;trailing-comma&quot;: [true, {
        &quot;singleline&quot;: &quot;never&quot;,
        &quot;multiline&quot;: {
            &quot;objects&quot;: &quot;ignore&quot;,
            &quot;arrays&quot;: &quot;ignore&quot;,
            &quot;functions&quot;: &quot;never&quot;,
            &quot;typeLiterals&quot;: &quot;ignore&quot;
        }
    }]
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>è‡³æ­¤ï¼Œæ•´ä¸ªé¡¹ç›®ç®—æ˜¯æ­£å¸¸è¿è¡Œèµ·æ¥äº†ã€‚But... è¿™è¿˜æ˜¯ä¼ ç»Ÿçš„Vueé¡¹ç›®ï¼Œæˆ‘ä»¬è¦å¼€å‘çš„æ˜¯Vue+tså®æˆ˜é¡¹ç›®ï¼Œæ‰€ä»¥éœ€è¦æ”¹é€ ä¸€ç•ªï¼Œè¯¦ç»†çš„ç›®å½•ç»“æ„ï¼Œç­‰æ”¹é€ å®Œä¹‹åå†é™„ä¸Šå§ã€‚</p> <hr> <h3 id="æ”¹é€ æˆtypescripté¡¹ç›®"><a href="#æ”¹é€ æˆtypescripté¡¹ç›®" class="header-anchor">#</a> æ”¹é€ æˆtypescripté¡¹ç›®</h3> <p>æŒ‰ç…§ä»¥ä¸‹çš„ç›®å½•ç»“æ„æ”¹é€ é¡¹ç›®</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>.
â”œâ”€ public/             # æ¨¡æ¿æ–‡ä»¶
â”œâ”€ dist/               # build ç”Ÿæˆçš„ç”Ÿäº§ç¯å¢ƒä¸‹çš„é¡¹ç›®
â”œâ”€ src/                # æºç ç›®å½•ï¼ˆå¼€å‘éƒ½åœ¨è¿™é‡Œè¿›è¡Œï¼‰
â”‚   â”œâ”€ api/            # æœåŠ¡ï¼ˆSERVICEï¼Œç»Ÿä¸€Apiç®¡ç†ï¼‰
â”‚   â”œâ”€ assets/         # é™æ€èµ„æºæ–‡ä»¶
â”‚   â”œâ”€ components/     # ç»„ä»¶
â”‚   â”œâ”€ filters/        # å…¨å±€è¿‡æ»¤å™¨
â”‚   â”œâ”€ icons/          # svgè½¬tsæ ¼å¼çš„icon
â”‚   â”œâ”€ lang/           # å›½é™…åŒ–è¯­è¨€
â”‚   â”œâ”€ layout/         # æ¶æ„å¸ƒå±€
â”‚   â”œâ”€ router/         # è·¯ç”±ï¼ˆROUTEï¼‰
â”‚   â”œâ”€ store/          # æ¨¡å—åŒ–çŠ¶æ€ç®¡ç†vuex
â”‚   â”œâ”€ styles/         # å…¬å…±æ ·å¼
â”‚   â”œâ”€ utils/          # å·¥å…·åº“
â”‚   â”œâ”€ views/          # è§†å›¾é¡µï¼ˆpagesï¼‰
â”‚   â”œâ”€ App.vue         # å¯åŠ¨æ–‡ä»¶
â”‚   â”œâ”€ main.ts         # ä¸»å…¥å£é¡µ
â”‚   â”œâ”€ permission.ts   # è·¯ç”±é‰´æƒ
â”‚   â”œâ”€ shims-tsx.d.ts   # ç›¸å…³ tsx æ¨¡å—æ³¨å…¥
â”‚   â”œâ”€ shims-vue.d.ts   # Vue æ¨¡å—æ³¨å…¥
â”‚   â”œâ”€ .env.development  # å¼€å‘ç¯å¢ƒé»˜è®¤APIå±æ€§é…ç½®
â”‚   â”œâ”€ .env.production   # çº¿ä¸Šç¯å¢ƒé»˜è®¤APIå±æ€§é…ç½®
â”‚   â”œâ”€ babel.config.js   # babelé…ç½®
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>ä¸»è¦æ¶‰åŠ <code>shims-tsx.d.ts</code> å’Œ <code>shims-vue.d.ts</code> ä¸¤ä¸ªæ–‡ä»¶</p> <ul><li><code>shims-tsx.d.ts</code> ï¼Œå…è®¸ä½ ä»¥ <code>.tsx</code> ç»“å°¾çš„æ–‡ä»¶ï¼Œåœ¨ <code>Vue</code> é¡¹ç›®ä¸­ç¼–å†™ <code>jsx</code> ä»£ç </li> <li><code>shims-vue.d.ts</code> ä¸»è¦ç”¨äº <code>TypeScript</code> è¯†åˆ« <code>.vue</code> æ–‡ä»¶ï¼Œ <code>ts</code> é»˜è®¤å¹¶ä¸æ”¯æŒå¯¼å…¥ <code>.vue æ–‡ä»¶</code>ï¼Œè¿™ä¸ªæ–‡ä»¶å‘Šè¯‰ <code>ts</code> å¯¼å…¥ <code>.vue æ–‡ä»¶</code>éƒ½æŒ‰ <code>VueConstructor&lt;Vue&gt;</code> å¤„ç†ã€‚</li></ul> <h4 id="_1-åˆ é™¤å¤šä½™çš„æ–‡ä»¶"><a href="#_1-åˆ é™¤å¤šä½™çš„æ–‡ä»¶" class="header-anchor">#</a> â‘  åˆ é™¤å¤šä½™çš„æ–‡ä»¶</h4> <p>æŠŠvue-cliæºå¸¦çš„home aboutæ–‡ä»¶åˆ é™¤ï¼Œæ¸…ç©ºcomponentsæ–‡ä»¶å¤¹çš„å†…å®¹ï¼ŒæŠŠè·¯ç”±çš„æŒ‡å‘åˆ°ä¸»å…¥å£App.vueæ–‡ä»¶ï¼Œä¿®æ”¹App.vueçš„å†…å®¹</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;!--App.vue--&gt;
&lt;template&gt;
  &lt;div id=&quot;app&quot;&gt;
    &lt;p&gt;hello world!!!&lt;/p&gt;
    &lt;img alt=&quot;Vue logo&quot; src=&quot;@/assets/logo.png&quot; /&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script lang=&quot;ts&quot;&gt;
import { Component, Vue } from 'vue-property-decorator'

@Component({
  name: 'app'
})
export default class extends Vue {
  private created() {
    console.log(12345)
  }
}
&lt;/script&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>ç¬¬ä¸€ä¸ªtsçš„æ–‡ä»¶å°±è¿™ä¹ˆæå®šäº†ï¼Œæ¥ä¸‹æ¥å¤§åˆ€é˜”æ–§çš„æ”¹é€ å§ã€‚</p> <p>ä¿®æ”¹è·¯ç”±ï¼Œæ–°å¢<code>login</code>ç™»å½•é¡µå’Œä¸»éª¨æ¶æ­å»ºé¡µé¢ã€ä»¥åŠ<code>dashboardé¦–é¡µ</code></p> <p>è·¯ç”±å¯¹è±¡éƒ½ä»¥æ‡’åŠ è½½çš„å½¢å¼å¼•å…¥ï¼Œå¹¶ä¸”å¤‡æ³¨<code>webpackChunkName</code>ï¼Œä¾¿äºæŸ¥æ‰¾ã€‚</p> <p>æ ¹è·¯ç”±<code>/</code>é‡å®šå‘åˆ°<code>/dashboard</code></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>const routes = [
  {
    // webpackChunkNameï¼šæ‡’åŠ è½½åçš„æ–‡ä»¶å
    component: () =&gt; import(/* webpackChunkName: &quot;login&quot; */ '@/views/login/index.vue'),
    ...
  }
]
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><img src="https://user-gold-cdn.xitu.io/2020/1/13/16f9c3e17cf9245c?w=632&amp;h=401&amp;f=png&amp;s=31363" alt=""></p> <h3 id="_2-æŒ‰éœ€å¼•å…¥element-ui"><a href="#_2-æŒ‰éœ€å¼•å…¥element-ui" class="header-anchor">#</a> â‘¡ æŒ‰éœ€å¼•å…¥element-ui</h3> <p>å®‰è£…<code>normalize.css</code>åˆå§‹åŒ–css</p> <blockquote><p>yarn add normalize.css</p></blockquote> <p>å®‰è£…<code>element-ui</code>æœ€æ–°ç‰ˆ</p> <p>æŒ‰éœ€å¼•å…¥</p> <p>é…ç½®<code>babel.config.js</code></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&quot;plugins&quot;: [
    [
      &quot;component&quot;,
      {
        &quot;libraryName&quot;: &quot;element-ui&quot;,
        &quot;styleLibraryName&quot;: &quot;theme-chalk&quot;
      }
    ]
]
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>è¿è¡ŒåæŠ¥é”™ï¼Œéœ€è¦å®‰è£…<code>babel-plugin-component</code>è§£æ</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>ERROR : Cannot find module 'babel-plugin-component' from '/Users/zeng/Desktop/hello/vue-typescript-admin-demo'
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p>yarn add babel-plugin-component --dev</p></blockquote> <p>åœ¨<code>main.ts</code>ä¸»å…¥å£æ–‡ä»¶é‡Œé¢å¼•ç”¨<code>normalize.css</code>å’Œ<code>element-ui</code></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>// main.ts
import 'normalize.css'
import ElementUI from 'element-ui'

Vue.use(ElementUI)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>ç°åœ¨å»<code>Vue</code>é¡µé¢é‡Œé¢å°±èƒ½éšå¿ƒæ‰€æ¬²çš„å¼•ç”¨<code>element-ui</code>çš„ç»„ä»¶äº†ï¼Œè€Œä¸”ä¸éœ€è¦åœ¨ä»»ä½•é¡µé¢é‡Œå†æ¬¡<code>import</code>ã€‚</p> <h3 id="_3-å®šåˆ¶ä¸»é¢˜"><a href="#_3-å®šåˆ¶ä¸»é¢˜" class="header-anchor">#</a> â‘¢ å®šåˆ¶ä¸»é¢˜</h3> <p>å®šåˆ¶ä¸»é¢˜æœ¬æƒ³åœ¨æ­å»ºåç®¡ç†åå°çš„ä¸»éª¨æ¶çš„æ—¶å€™å†™çš„ï¼Œä½†è½¬çœ¼ä¸€æƒ³ï¼Œè¦å¼€å§‹æ­å»ºé¡µé¢UIäº†ï¼Œåˆ°æ—¶å€™å†å›å¤´æ”¹ä¸€éå¤ªæŠ˜è…¾äº†ï¼Œso...å°±å…ˆæ¥ä¸ªå®šåˆ¶ä¸»é¢˜å§</p> <p>æ¯ä¸ªé¡¹ç›®éƒ½æœ‰è‡ªå·±é£æ ¼çš„ä¸»é¢˜ï¼Œç”±äºåœ¨é¡¹ç›®ä¸­åº”ç”¨çš„æ˜¯sassé¢„å¤„ç†å™¨ï¼Œå®šåˆ¶åŒ–ä¿®æ”¹UIé¢œè‰²èƒŒæ™¯ï¼Œå½“ç„¶è¦ç»“åˆsassæ¥å®Œæˆ</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>.
â”œâ”€ src/                # æºç ç›®å½•ï¼ˆå¼€å‘éƒ½åœ¨è¿™é‡Œè¿›è¡Œï¼‰
â”‚   â”œâ”€ styles/
â”‚   â”œâ”€â”€â”€ element-variables.scss  
â”‚   â”œâ”€â”€â”€ element-variables.scss.d.ts 
   
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>/* Element Variables */

// Override Element UI variables
$--color-primary: #1890ff;
...

// Icon font path, required
$--font-path: '~element-ui/lib/theme-chalk/fonts';

// Apply overrided variables in Element UI
@import '~element-ui/packages/theme-chalk/src/index';

// The :export directive is the magic sauce for webpack
// https://mattferderer.com/use-sass-variables-in-typescript-and-javascript
:export {
  theme: $--color-primary;
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>ç”±äºè¿™é‡Œå¼•ç”¨åˆ°äº†<code>:export</code>ï¼Œä½ æ²¡çœ‹é”™ï¼Œç¡®å®æ˜¯<code>:export</code>ï¼Œå…·ä½“çš„è§£é‡Šç­‰å¤§ä½¬æŒ‡æ•™å§.... å®˜æ–¹æ˜¯è¿™ä¹ˆè§£é‡Šçš„ <em>:export directive is the magic sauce for webpack`</em>ï¼Œå……æ»¡é­”æ³•ï¼Œwebpackçš„è¯­æ³•ç³–???</p> <p>åœ¨tsçš„è§„åˆ™é‡Œï¼Œä½ å¿…é¡»æŒ‰ç…§å®ƒçš„è§„èŒƒæ¥è¿›è¡Œæ¯ä¸€æ­¥çš„å¼€å‘ï¼Œå› æ­¤ä½ è¦åŠ ä¸Š<code>element-variables.scss.d.ts</code>å¯¹åº”çš„<code>.d.ts</code>æ–‡ä»¶</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>// element-variables.scss.d.ts
export interface IScssVariables {
    theme: string
}

export const variables: IScssVariables

export default variables
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>å¥½äº†ï¼Œç°åœ¨ä½ å¯ä»¥åœ¨ä¸»å…¥å£æ–‡ä»¶é‡Œé¢å¼•ç”¨å®šåˆ¶ä¸»é¢˜çš„æ–‡ä»¶é…ç½®äº†ã€‚</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>// main.ts
import '@/styles/element-variables.scss'
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>ç®€å•çš„æ¡†æ¶ä¸»é¢˜å®šåˆ¶å°±è¿™ä¹ˆå®Œæˆäº†ï¼Œåé¢ä¼šåŠ æ·±æ‰©å±•ï¼ŒåŠ ä¸€ä¸ªæ¢è‚¤çš„åŠŸèƒ½ï¼Œå…ˆç»§ç»­ä¸‹ä¸€æ­¥ã€‚å®šä¹‰å…¨å±€çš„ç»Ÿä¸€sasså˜é‡ï¼Œæ–¹ä¾¿ç»Ÿä¸€è§„èŒƒ<code>cssé¢œè‰²</code></p> <p>ä¸ºäº†é˜²æ­¢åæœŸå†æ¬¡å£°æ˜è¿™ä¸ªç»Ÿä¸€å˜é‡ï¼Œè¿™é‡Œæš‚ä¸”æŠŠä¹‹åçš„èœå•æ çš„å˜é‡ä¹ŸåŠ ä¸Šå§</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>// variables.scss

// Base color
$blue:#324157;
...

// Sidebar
$subMenuBg:#1f2d3d;
...

// Login page
$loginBg: #2d3a4b;
...

// The :export directive is the magic sauce for webpack
// https://mattferderer.com/use-sass-variables-in-typescript-and-javascript
:export {
  menuBg: $menuBg;
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>åŒä¸Šï¼Œå¯¹åº”çš„è§£ææ–‡ä»¶</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>// variables.scss.d.ts
export interface IScssVariables {
    menuBg: string
}

export const variables: IScssVariables

export default variables
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>å…¨å±€å˜é‡å®šä¹‰å¥½äº†ï¼Œé‚£å¦‚ä½•åŠ å…¥åˆ°é¡¹ç›®ä¸­å‘¢ï¼Ÿç›´æ¥åœ¨ä¸»å…¥å£æ–‡ä»¶<code>main.ts</code>é‡Œé¢å¼•ç”¨æ˜¯ä¸ç”Ÿæ•ˆçš„ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ä»¬è¦æ¢ä¸ªæ€è·¯ï¼Œæ”¾åœ¨<code>style-resources-loader</code>é‡Œé¢å»å¼•å…¥ï¼Œåœ¨æ•´ä¸ªé¡¹ç›®çš„é…ç½®æ–‡ä»¶é‡Œå»é…ç½®ã€‚</p> <p><code>style-resources-loader</code>æ˜¯ä¸ªä»€ä¹ˆé¬¼ï¼Œæœç´¢äº†ä¸ªå…¨å±€éƒ½æ²¡å‘ç°è¿™ä¸ªé…ç½®é¡¹ï¼Œ<code>vue-li 3.0+</code>çš„é…ç½®å¹²å¹²å‡€å‡€çš„ï¼Œä¸æƒ³è€ç‰ˆæœ¬<code>vue-li 2.0</code>ï¼Œæœ‰å¯¹åº”çš„configæ–‡ä»¶å¤¹å¯¹åº”å„ç§ä¸åŒçš„ç¯å¢ƒæ¥åšé€‰é¡¹é…ç½®ï¼Œé‚£æ€ä¹ˆé…ç½®<code>vue-li 3.0+</code>å‘¢</p> <p>å°±ä¸å–å…³å­äº†ï¼Œç›´æ¥ä¸Šä»£ç å§ã€‚é¦–å…ˆæˆ‘ä»¬è¦åœ¨æ ¹ç›®å½•çš„åŒçº§æ–°å»ºä¸€ä¸ª<code>vue.config.js</code>ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹åº”<code>vue-li 2.0</code>ç‰ˆæœ¬å¹²çš„äº‹ï¼Œåœ¨<code>vue-li 3.0</code>é‡Œé¢å°±éœ€è¦æˆ‘ä»¬è‡ªå·±æŒ‰éœ€é…ç½®äº†</p> <p>æ–°å»º<code>vue.config.js</code>æ–‡ä»¶</p> <p>æŠŠç»Ÿä¸€çš„scsså˜é‡å¼•å…¥åˆ°æ’ä»¶é€‰é¡¹å¡ä¸­å»ï¼Œè¿™é‡Œéœ€è¦å®‰è£…ä¸¤ä¸ªç±»åº“ï¼Œå¦åˆ™ä¼šæ— æ³•è§£æ</p> <p><img src="https://user-gold-cdn.xitu.io/2020/1/13/16f9c3ef7b9dd447?w=244&amp;h=66&amp;f=png&amp;s=4117" alt=""></p> <blockquote><p>yarn add vue-cli-plugin-style-resources-loader
yarn add style-resources-loader --dev   // å¼€å‘ç¯å¢ƒloaderç¼–è¯‘</p></blockquote> <div class="language- line-numbers-mode"><pre class="language-text"><code>// vue.config.js
module.exports = {
    pluginOptions: {
        'style-resources-loader': {
            preProcessor: 'scss',
            patterns: [
                path.resolve(__dirname, 'src/styles/variables.scss'),
                path.resolve(__dirname, 'src/styles/mixins.scss')
            ]
        }
    },
}

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>é™¤äº†<code>variables.scss</code>ï¼Œå¯¹åº”è¿˜æ–°å¢äº†ä¸€ä¸ª<code>mixins.scss</code>ï¼Œå³å…¨å±€æ··å…¥çš„mixinsæ··åˆå˜é‡ã€‚</p> <p>å¥½äº†ï¼Œå…¬å…±çš„sasså˜é‡å°±å®Œæˆäº†ï¼Œå¯ä»¥åº”ç”¨åˆ°é¡¹ç›®ä¸­å»äº†ã€‚</p> <p>å…·ä½“çš„å…¨å±€å„ä¸ªæ ·å¼è®¾å®šå¯ä»¥å‚è€ƒ<code>@/styles/</code>ç›®å½•ä¸‹çš„æ–‡ä»¶ã€‚</p> <p>ç°åœ¨å¯ä»¥æ­£å¼å¼€å§‹æ­å»ºé¡µé¢äº†ã€‚</p> <h3 id="warn-è­¦å‘Šä¿®å¤"><a href="#warn-è­¦å‘Šä¿®å¤" class="header-anchor">#</a> Warn è­¦å‘Šä¿®å¤</h3> <p><img src="https://user-gold-cdn.xitu.io/2020/1/13/16f9c409d1270955?w=627&amp;h=109&amp;f=png&amp;s=78391" alt=""></p> <p>åœ¨<code>tslint</code>æ·»åŠ å¦‚ä¸‹é…ç½®</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>// tslint.json
// ä¸æ£€æµ‹éšå¼ç±»å‹
&quot;arrow-parens&quot;: [
	false,
	&quot;as-needed&quot;
]
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><hr> <h2 id="ç™»å½•é¡µé¢å¼€å‘"><a href="#ç™»å½•é¡µé¢å¼€å‘" class="header-anchor">#</a> ç™»å½•é¡µé¢å¼€å‘</h2> <p>ç™»å½•é¡µé¢æ¯”è¾ƒç®€æ´ï¼Œæ²¡æœ‰ä»€ä¹ˆé…·ç‚«çš„æ ·å¼</p> <p><img src="https://user-gold-cdn.xitu.io/2020/1/13/16f9c4185b9c1d9d?w=624&amp;h=441&amp;f=png&amp;s=20923" alt=""></p> <p>å†å¼ºè°ƒä¸€éï¼Œå¼€å‘æ–°é¡µé¢ï¼Œä¸€å®šè¦è½¬æ¢è§‚å¿µï¼Œä¸è¦æŠŠåŸå§‹çš„å†™æ³•é£æ ¼å¼•å…¥è¿›æ¥ï¼Œé‚£å°±è¾¾ä¸åˆ°å¼•å…¥<code>ts</code>çš„ç›®çš„äº†</p> <p><code>template</code>æ¨¡å—æ˜¯å‡ ä¹æ²¡æœ‰å˜åŒ–ï¼Œ<code>script</code>éœ€è¦åŠ ä¸Š<code>lang=&quot;ts&quot;</code></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;script lang=&quot;ts&quot;&gt;
import { Component, Vue } from 'vue-property-decorator'

//ç±»ç»„ä»¶@Component å¿…å†™
@Component({
  name: 'login'
})
export default class extends Vue {
  private loading:bollen = false // dataå˜é‡

  private get pageSize() { // è®¡ç®—å±æ€§
	return 10
  }

  private created() { ... }
  
  private mounted() { ... }

  private handleLogin() { ... } // methodsæ–¹æ³• 
  

  public destroyed() {} // é”€æ¯å£°æ˜å‘¨æœŸ
}
&lt;/script&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>ç™»å½•é¡µç”¨äº†<code>element-ui</code>çš„<code>Formè¡¨å•</code>ç»„ä»¶ã€‚è™½ç„¶<code>template</code>æ¨¡æ¿éƒ¨åˆ†æ²¡æœ‰ä»€ä¹ˆå˜åŒ–ï¼Œä½†æ˜¯js <code>Formè¡¨å•</code>éƒ¨åˆ†å·®å¼‚åŒ–è¿˜æ˜¯æ¯”è¾ƒå¤§çš„</p> <p><img src="https://user-gold-cdn.xitu.io/2020/1/13/16f9c41cff7e6e7c?w=591&amp;h=556&amp;f=png&amp;s=213450" alt=""></p> <p><font size="8" color="red">!!!å…³é—­tslint</font></p> <p>è¿™ä¸ªtslintçœŸçš„æ˜¯è®©æœ‰å¼ºè¿«ç—‡çš„æˆ‘æ²¡æ³•åœ¨ç»§ç»­ä¸‹å»äº†ï¼Œå…³äº†å§ï¼Œä¸€å †çš„<code>warn</code>....</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>// tslint.json
{
	&quot;defaultSeverity&quot;: &quot;none&quot;, // å€¼ä¸ºwarnæ—¶ä¸ºè­¦å‘Š
	&quot;rules&quot;: {
		...
	}
}

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>ä¸–ç•Œé¡¿æ—¶æ¸…å‡€äº†~~~ æœ‰ç¡¬éœ€è¦çš„æœ‹å‹å¯ä»¥è‡ªè¡Œæ‰“å¼€ï¼Œå‰ææ˜¯ä¸€å®šè¦é…ç½®å¥½<code>tslint</code>è§„åˆ™ï¼Œå¦åˆ™è¿˜æ˜¯æœ‰ç‚¹ç—›è‹¦ä¸å ªçš„ï¼Œæ¯•ç«Ÿ<code>warn</code>å¤šäº†çœ‹ç€éš¾å—ã€‚å‘Šè¾</p> <p>å›å½’ä¸»é¢˜ã€‚</p> <p>è¿™é‡Œè¦æåˆ«æä¸€ä¸‹è¡¨å•æ ¡éªŒï¼Œå¯¹ï¼Œå°±æ˜¯<code>el-form</code>çš„<code>rules</code>å±æ€§å€¼ï¼Œé€šè¿‡<code>Form-Item Attributes</code>çš„<code>prop</code>è¾¾åˆ°è¡¨å•æ ¡éªŒçš„åŠŸèƒ½</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>import { Form as ElForm } from 'element-ui'

export default class extends Vue {
	private validateMobilePhone = (
	  rule: any,
	  value: string,
	  callback: Function
	) =&gt; {
	  if (!value.trim()) {
	    callback(new Error('è¯·è¾“å…¥æ‰‹æœºå·'))
	  } else {
	    callback()
	  }
	}
	
	private validatePassword = (rule: any, value: string, callback: Function) =&gt; {
	  if (value.length &lt; 6) {
	    callback(new Error('å¯†ç é•¿åº¦ä¸èƒ½å°äº6ä½'))
	  } else {
	    callback()
	  }
	}
	
	private loginRules = {
	  mobilePhone: [{ validator: this.validateMobilePhone, trigger: 'blur' }],
	  password: [{ validator: this.validatePassword, trigger: 'blur' }]
	}
	
	private handleLogin() {
	  (this.$refs.loginForm as ElForm).validate(async (valid: boolean) =&gt; {
	    if (valid) {
	      ...
	    }
	  });
	}
}

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br></div></div><p>ä»¥ä¸Šå³ä¸ºè¡¨å•ç™»å½•æ ¡éªŒï¼Œéœ€è¦ç‰¹åˆ«æé†’çš„å°±æ˜¯ï¼Œç™»å½•äº‹ä»¶æ˜¯<code>(this.$refs.loginForm as ElForm).validate() =&gt; {}</code>ï¼Œè€Œé<code>this.$refs.loginForm.validate() =&gt; {}</code>ï¼Œä¸åŸå§‹æœ‰ç€è¾ƒä¸ºæ˜æ˜¾çš„å·®å¼‚ã€‚</p> <p>ç›´æ¥ç”¨åè€…çš„è¯ï¼Œæ˜¯ä¼šç›´æ¥æŠ¥é”™çš„</p> <p><img src="https://user-gold-cdn.xitu.io/2020/1/13/16f9c42594873e33?w=758&amp;h=109&amp;f=png&amp;s=26818" alt=""></p> <p>æ‰€ä»¥è¿™é‡Œä½ è¦å…ˆå¼•ç”¨<code>element-ui</code>çš„<code>Form</code>ç»„ä»¶ï¼Œç„¶åå†ä½¿ç”¨<code>this.$refs.loginForm as ElForm</code>ï¼Œè¿™æ ·ä½ å°±æœ‰<code>Form</code>ç»„ä»¶çš„<code>validate</code>æ–¹æ³•äº†ï¼Œè‡ªæ­¤ç™»å½•é¡µè¡¨å•æ ¡éªŒå°±æ­å»ºå®Œæˆäº†</p> <p>æ¥ä¸‹æ¥æ˜¯<code>api</code>è¯·æ±‚</p> <h2 id="axios-api"><a href="#axios-api" class="header-anchor">#</a> axios api</h2> <p>æœ¬é¡¹ç›®ä½¿ç”¨<code>axios api</code>è¯·æ±‚å·¥å…·åº“</p> <blockquote><p>yarn add axios</p></blockquote> <p>å°è£…<code>api</code>å·¥å…·åº“</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>/**
    src-&gt;untils-&gt;request.ts
**/
import axios from 'axios'

const service = axios.create({
  baseURL: process.env.VUE_APP_BASE_API,
  timeout: 5000
})

// Request interceptors
service.interceptors.request.use(
  (config) =&gt; {
    // Add Authorization header to every request, you can add other custom headers here
    config.headers['Authorization'] = 'tokenä¿¡æ¯é…ç½®'
    return config
  },
  (error) =&gt; {
    Promise.reject(error)
  }
)

// Response interceptors
service.interceptors.response.use(
  (response) =&gt; {
    æ‹¦æˆªæ“ä½œ...
  },
  (error) =&gt; {
    return Promise.reject(error)
  }
)

export default service
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><p>æ€»çš„æ¥è¯´ï¼Œè·ŸåŸå§‹ç‰ˆæœ¬çš„å·¥å…·åº“å°è£…æ²¡ä»€ä¹ˆæ˜æ˜¾å·®å¼‚ï¼Œä¸»è¦å°±æ˜¯é…ç½®ä¸€ä¸‹å‡ ä¸ªç‚¹</p> <ul><li>å“åº”è¶…æ—¶æ—¶é—´<code>timeout</code></li> <li><code>api</code>å…¬å…±è¯·æ±‚å¤´<code>baseURL</code></li> <li>è¯·æ±‚æ‹¦æˆª<code>Request interceptors</code></li> <li>å“åº”æ‹¦æˆª<code>Response interceptors</code></li> <li><code>config.headers</code> <code>token</code>æƒé™é…ç½®</li></ul> <p>å…·ä½“çš„apiå·¥å…·ç±»å¯ä»¥å‚è€ƒæºç </p> <p>è¿™é‡Œæœ‰ä¸ª<code>process.env.VUE_APP_BASE_API</code>å˜é‡å€¼ï¼Œä½ å¯ä»¥ç›´æ¥åœ¨å½“å‰çš„å·¥å…·ç±»æ ¹æ®ç¯å¢ƒé…ç½®ï¼Œä¹Ÿå¯ä»¥æ ¹æ®<code>vue-cli 3.0</code>å†…ç½®çš„æ–‡ä»¶é…ç½®ï¼Œç¬¬äºŒç§æ–¹æ¡ˆåœ¨æ ¹ç›®å½•ä¸‹</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>.
â”œâ”€ src/   
â”œâ”€ .env.development   // å¼€å‘ç¯å¢ƒé…ç½®
â”œâ”€ .env.production    // çº¿ä¸Šç¯å¢ƒé…ç½®   
...
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><code>VUE_APP_BASE_API</code>  å˜é‡åä¸ºå›ºå®šå‘½åï¼Œæ— æ³•ä¿®æ”¹</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>// .env.development
VUE_APP_BASE_API = '192.168.1.1:8090'   

// .env.production
VUE_APP_BASE_API = 'https://www.baidu.con' 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><font color="red">æ³¨æ„:</font></p> <p>åœ¨è¿™é‡Œé…ç½®å¥½<code>VUE_APP_BASE_API</code>ï¼Œå‰ææ˜¯æœåŠ¡ç«¯å·²ç»åšå¥½è·¨åŸŸå¤„ç†ï¼Œå¦‚æœæœåŠ¡ç«¯æ¥å£æ²¡æœ‰åšè·¨åŸŸå¤„ç†ï¼Œé‚£è¿™é‡Œé…ç½®apiçš„è¯·æ±‚å¤´å°±æ— æ•ˆäº†ã€‚ä½ å¯ä»¥åœ¨<code>vue.config.js</code>é‡Œé¢é…ç½®è·¨åŸŸä»£ç†å±æ€§ï¼Œæœ¬é¡¹ç›®æ¥å£å·²åšè·¨åŸŸå¤„ç†ï¼Œæ‰€ä»¥è¿™é‡Œæ³¨é‡Šäº†ï¼Œéœ€è¦å¯ä»¥è‡ªè¡Œæ‰“å¼€</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>const mockServerPort = 8090

module.exports = {
  devServer: {
    proxy: {
        [process.env.VUE_APP_BASE_API]: {
            target: `http://localhost:${mockServerPort}/mock-api/v1`,
            changeOrigin: true, // å¦‚æœæ¥å£è·¨åŸŸï¼Œéœ€è¦è¿›è¡Œè¿™ä¸ªå‚æ•°é…ç½®
            // ws: true,// proxy websockets
            pathRewrite: { // pathRewriteæ–¹æ³•é‡å†™url
                ['^' + process.env.VUE_APP_BASE_API]: ''
            }
        }
    }
  }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>é…ç½®å¥½è¯·æ±‚å¤´åï¼Œåé¢æ‰€æœ‰çš„æ¥å£è°ƒç”¨éƒ½æ˜¯</p> <blockquote><p><code>url = VUE_APP_BASE_API + url</code></p></blockquote> <p>å¥½äº†ï¼Œæ¥ä¸‹æ¥æŒ‰ç…§é¡ºåºåº”è¯¥å®‰åˆ©ä¸€ä¸‹ä½¿ç”¨ï¼Œä¸ºäº†ä½“éªŒæ€§å’Œå¯ç»´æŠ¤æ€§æ›´å‹å¥½ç‚¹ï¼Œ<code>api</code>æ¥å£æ¨¡å—ä¼šåˆ†é¡µé¢å®šä¹‰</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>.
â”œâ”€ src/                # æºç ç›®å½•
â”‚   â”œâ”€ api/
â”‚   â”œâ”€â”€â”€ pageA.ts  
â”‚   â”œâ”€â”€â”€ pageB.ts
...
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>å®šä¹‰<code>api</code>æ¥å£</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>import request from '@/utils/request'

export const login = (data: any) =&gt;
    request({
        url: '/api/login',
        method: 'post',
        data
    })
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><code>api</code>å·¥å…·ç±»å°è£…å®Œæˆï¼Œåœ¨å¼€å§‹ä½¿ç”¨ä¹‹å‰ï¼Œå…ˆäº†è§£ä¸€æ³¢<code>vuex+ts</code>ç‰ˆçš„çŠ¶æ€ç®¡ç†å§ï¼Œå› ä¸ºè°ƒç”¨<code>login</code>æ¥å£æˆåŠŸåä¼šå­˜å‚¨ç”¨æˆ·å’Œ<code>token</code>ä¿¡æ¯ï¼Œä¼šç”¨åˆ°çŠ¶æ€ç®¡ç†</p> <hr> <h2 id="çŠ¶æ€ç®¡ç†vuex"><a href="#çŠ¶æ€ç®¡ç†vuex" class="header-anchor">#</a> çŠ¶æ€ç®¡ç†Vuex</h2> <p>ä¼ ç»Ÿçš„vuexåœ¨vue+tsçš„é¡¹ç›®é‡Œé¢æ˜¯è¡Œä¸é€šçš„ï¼Œ<code>vue 2.0</code>ç‰ˆæœ¬å¯¹tsçš„å…¼å®¹æ€§æœ¬èº«å¹¶ä¸æ˜¯ç‰¹åˆ«å‹å¥½ï¼Œæ‰€ä»¥è¦è¾¾åˆ°çŠ¶æ€ç®¡ç†çš„æ•ˆæœï¼Œè¿™é‡Œè¦é¢å¤–å¼•ç”¨ä¸€ä¸ªç±»åº“<code>vuex-module-decorators</code>ï¼Œå®ƒæ˜¯åŸºäº<code>vue-class-component</code> æ‰€åšçš„æ‹“å±•ï¼Œå®ƒæä¾›äº†ä¸€ç³»åˆ—çš„è£…é¥°å™¨ï¼Œè®©<code>vue+ts</code>ç»“åˆçš„é¡¹ç›®è¾¾åˆ°çŠ¶æ€ç®¡ç†çš„ä½œç”¨ã€‚</p> <p><code>vue-class-component</code> ä¸»è¦æä¾›äº†ä»¥ä¸‹çš„è£…é¥°å™¨ï¼Œæ¥ä¸‹æ¥è®©æˆ‘ä»¬ä¸€ä¸€çš„äº†è§£ä¸€éå§</p> <blockquote><p>import { VuexModule, Module, Action, Mutation, getModule, State } from 'vuex-module-decorators'</p></blockquote> <p>å…ˆæ¥çœ‹çœ‹è¦å®Œæˆçš„æ¨¡å—åŒ–ç®¡ç†çš„ç›®å½•ç»“æ„</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>.
â”œâ”€ src/        
â”‚   â”œâ”€ store/
â”‚   â”œâ”€â”€â”€ modules/
â”‚   â”‚ 		â”œâ”€ app.ts 
â”‚   â”‚ 		â”œâ”€ user.ts
â”‚   â”œâ”€â”€â”€ index.ts   
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>åŠ¨æ‰‹æ”¹é€ <code>index.ts</code></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>import Vue from 'vue'
import Vuex from 'vuex'
import { IAppState } from './modules/app'
import { IUserState } from './modules/user'

Vue.use(Vuex)

export interface IRootState {
    app: IAppState
    user: IUserState
}

// Declare empty store first, dynamically register all modules later.
export default new Vuex.Store&lt;IRootState&gt;({})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>ç­‰åŒäº</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>import Vue from 'vue'
import Vuex from 'vuex'
import app from './modules/app'
import user from './modules/user'
Vue.use(Vuex)

const store = new Vuex.Store({
  modules: {
    app,
    user
  }
})

export default store
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>è¿™æ ·ï¼Œæ¨¡å—åŒ–çŠ¶æ€ç®¡ç†çš„é›å½¢å°±å®Œæˆäº†ã€‚å¯¹æ¯”æ¥çœ‹ï¼Œåªæ˜¯è¯­æ³•é£æ ¼çš„å˜åŒ–ï¼Œå…¶å®ƒçš„å˜åŒ–ä¸å¤§ã€‚<code>ts</code>ç‰ˆçš„çŠ¶æ€ç®¡ç†æœ€å¤§çš„æ”¹å˜ä½“ç°åœ¨å„ä¸ªåŠŸèƒ½åŠŸèƒ½å‡½æ•°ä¸Š</p> <p>å…ˆçœ‹ä¸€çœ‹åŸå§‹çš„vuexé…ç½®ï¼Œè½»è½¦ç†Ÿè·¯</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>export default new Vuex.Store({
    state: {
    },
    mutations: {
    },
    actions: {
    },
    modules: {
    }
});
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>ä¸ºäº†æ˜¾å¾—ä¸é‚£ä¹ˆå•°å—¦ï¼Œç›´æ¥ä¸Šç‰ˆ<code>ts</code>ç‰ˆçš„çŠ¶æ€ç®¡ç†å§ï¼Œå¯ä»¥æœ‰ä¸ªç›´è§‚çš„å¯¹æ¯”</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>// user.ts
import { VuexModule, Module, Action, Mutation, getModule } from 'vuex-module-decorators'
import store from '@/store'

export interface IUserState {
    id_token: string
}

@Module({ dynamic: true, store, name: 'user' })
class User extends VuexModule implements IUserState {
    public id_token = ''
    
    @Mutation
    private SET_TOKEN(token: string) {
        this.id_token = token
    }
    
    @Action
    public async Login(params: any) {
        this.SET_TOKEN(`token!!!`)
    }
}

export const UserModule = getModule(User)

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p>è§£æï¼š</p> <p>æˆ‘ä»¬çœ‹åˆ°äº†ä¸€å †çš„<code>@</code>å¼€å¤´çš„è£…é¥°å™¨å‡½æ•°<code>@Mutation</code> <code>@Mutation</code> <code>@Module</code>...</p> <p>å…ˆæ¥ä¸€å¼ è¡¨æ ¼å¯¹æ¯”ä¸€ä¸‹å·®å¼‚åŒ–å§</p> <table><thead><tr><th style="text-align:center;">Ts</th> <th style="text-align:center;">Js</th></tr></thead> <tbody><tr><td style="text-align:center;">public State</td> <td style="text-align:center;">state</td></tr> <tr><td style="text-align:center;">@Mutations</td> <td style="text-align:center;">mutations</td></tr> <tr><td style="text-align:center;">@Action</td> <td style="text-align:center;">action</td></tr> <tr><td style="text-align:center;">get</td> <td style="text-align:center;">getters</td></tr></tbody></table> <h3 id="å®šä¹‰module"><a href="#å®šä¹‰module" class="header-anchor">#</a> å®šä¹‰module</h3> <p>å®šä¹‰ä¸€ä¸ª<code>modules</code>ï¼Œç›´æ¥ä½¿ç”¨è£…é¥°å™¨<code>@Module</code></p> <p><font color="red">æ³¨æ„ï¼š</font>åŸå§‹çš„vuexåŒæ ·æœ‰ä¸€ä¸ªåä¸º<code>Module</code>çš„ç±»ï¼Œä½†å®ƒä¸æ˜¯ä¸€ä¸ªè£…é¥°å™¨ï¼Œæ‰€ä»¥åˆ«ç”¨æ··æ·†äº†</p> <blockquote><p>@Module({ dynamic: true, store, name: 'user' })</p></blockquote> <p>ä»ä¸Šé¢å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬å®šä¹‰<code>modules</code>ä¸å•å•ç”¨äº†è£…é¥°å™¨ï¼Œè¿˜å¸¦äº†å‚æ•°å€¼ï¼Œè¿™ä¸ªæ˜¯è¡¨æ˜æ˜¯é€šè¿‡å‘½åç©ºé—´çš„å½¢å¼æ¥ä½¿ç”¨<code>module</code>ï¼Œå¦‚ä¸Šï¼Œè¿™é‡Œçš„<code>namespaced</code>å€¼å³ä¸º<code>user</code></p> <p>è¯¦ç»†<code>vuexå‘½åç©ºé—´</code>çš„è¯´æ˜ï¼Œå¯ä»¥å‚è€ƒ<a href="https://vuex.vuejs.org/zh/guide/modules.html" target="_blank" rel="noopener noreferrer">vuexå‘½åç©ºé—´<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>é™¤äº†<code>namespaced</code>ï¼Œæˆ‘ä»¬çœ‹åˆ°è¿˜æœ‰å¦å¤–ä¸€ä¸ªå‚æ•°å€¼<code>store</code>ï¼Œå®ƒå³ä¸ºä¸»å…¥å£é¡µå¯¹åº”çš„æ•´ä¸ªvuexæ¨¡å—çš„<code>store</code></p> <blockquote><p>import store from '@/store'</p></blockquote> <p>å¦‚æœå»æ‰å®ƒçš„è¯ï¼Œæµè§ˆå™¨ä¼šæŠ¥ä»¥ä¸‹é”™è¯¯</p> <p><img src="https://user-gold-cdn.xitu.io/2020/1/13/16f9c42da8b2ea71?w=1212&amp;h=169&amp;f=png&amp;s=64515" alt=""></p> <h3 id="state"><a href="#state" class="header-anchor">#</a> state</h3> <p>è¿™é‡Œæ‰€æœ‰çš„stateå±æ€§å› ä¸ºåŠ äº†<code>tslint</code>éƒ½ä¼šæ·»åŠ ä¸Š<code>public</code>ä¿®é¥°ï¼Œå…¶å®ƒçš„ç”¨æ³•éƒ½æ˜¯ç›¸ä¼¼çš„</p> <h3 id="getters"><a href="#getters" class="header-anchor">#</a> Getters</h3> <p>åŸå§‹çš„<code>getters</code>è®¡ç®—å‡½æ•°ï¼Œåœ¨è¿™é‡Œå¯¹åº”çš„å³ä½¿<code>get</code>æ–¹æ³•ï¼Œå³</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>@Module
export default class UserModule extends VuexModule {
  countsNum = 2020
  
  get calculatCount() {
    return countsNum / 2
  }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>ç­‰åŒäº</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>export default {
  state: {
    countsNum: 2
  },
  getters: {
    calculatCount: (state) =&gt; state.countsNum / 2
  }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="mutations"><a href="#mutations" class="header-anchor">#</a> Mutations</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>@Mutation
private SET_TOKEN(token: string) {
    this.token = token
}

@Mutation
...
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>ç­‰åŒäº</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>mutations: {
    SET_TOKEN: (state, token) =&gt; {
        state.token = token
    },
    ...
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>è¯´æ˜ï¼š</p> <ul><li>ä¸¤è€…çš„åŒºåˆ«å…¶å®å°±æ˜¯è¯­æ³•ç³–ï¼ŒåŸå§‹çš„<code>Mutation</code>åŒæ­¥æ–¹æ³•éƒ½æ˜¯å®šä¹‰åœ¨<code>mutations</code>å†…ï¼Œè€Œ<code>ts</code>ç‰ˆçš„æ¯ä¸€ä¸ª<code>Mutation</code>éƒ½è¦åŠ ä¸Šè£…é¥°å™¨<code>@Mutation</code>ä¿®é¥°</li></ul> <p><font color="red">æ³¨æ„ï¼š</font>
ä¸€æ—¦ä½¿ç”¨<code>@Mutationè£…é¥°</code>æŸä¸€å‡½æ•°å, å‡½æ•°å†…çš„<code>thisä¸Šä¸‹æ–‡</code>å³æŒ‡å‘å½“å‰çš„<code>state</code>ï¼Œæ‰€ä»¥æƒ³å¼•ç”¨<code>state</code>çš„å€¼ï¼Œå¯ä»¥ç›´æ¥<code>this.token</code>è®¿é—®å³å¯ã€‚</p> <p><code>Muationå‡½æ•°</code>ä¸å¯ä¸º<code>asyncå‡½æ•°</code>, ä¹Ÿä¸èƒ½ä½¿ç”¨<code>ç®­å¤´å‡½æ•°</code>æ¥å®šä¹‰, å› ä¸ºåœ¨ä»£ç éœ€è¦åœ¨è¿è¡Œé‡æ–°ç»‘å®šæ‰§è¡Œçš„ä¸Šä¸‹æ–‡</p> <h3 id="action"><a href="#action" class="header-anchor">#</a> Action</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>@Action
public async Login(userInfo: { username: string, password: string}) {
    ...
    this.SET_TOKEN(data.accessToken)
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>ç­‰åŒäº</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>actions: {
    async Login({ commit }, data) {
        ...
        commit('SET_TOKEN', data.accessToken)
    }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>è¯´æ˜ï¼š</p> <p>å¼‚æ­¥å‡½æ•°<code>Action</code>å’ŒåŒæ­¥å‡½æ•°<code>Mutation</code>ä½¿ç”¨æ–¹æ³•å¤§åŒå°å¼‚ï¼ŒåŒºåˆ«å°±æ˜¯ä¸€ä¸ªæ˜¯åŒæ­¥ï¼Œä¸€ä¸ªæ˜¯å¼‚æ­¥ï¼Œåªè¦åšå¥½åŒºåˆ†å³å¯</p> <p><font color="red">æ³¨æ„ï¼š</font></p> <ul><li>å¦‚æœéœ€è¦åœ¨actionå‡½æ•°ä¸­è¿è¡Œè€—æ—¶å¾ˆé•¿çš„ä»»åŠ¡/å‡½æ•°, å»ºè®®å°†è¯¥ä»»åŠ¡å®šä¹‰ä¸ºå¼‚æ­¥å‡½æ•°*ï¼ˆasync methodsï¼‰*</li> <li>åƒä¸‡ä¸è¦ä½¿ç”¨ç®­å¤´å‡½æ•°<code>=&gt;</code>æ¥å®šä¹‰actionå‡½æ•°, å› ä¸ºåœ¨è¿è¡Œæ—¶éœ€è¦åŠ¨æ€ç»‘å®š<code>this</code>ä¸Šä¸‹æ–‡</li></ul> <p><code>vuex+ts</code>ç‰ˆçš„é…ç½®æ­å»ºæˆåŠŸï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬æŠŠå®ƒè¿ç”¨åˆ°é¡¹ç›®ä¸­æ¥å§ï¼Œè¿™é‡ŒæŠ½ä¸€ä¸ªç™»é™†é¡µé¢çš„æ¨¡å—åšä»‹ç»</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>import {
  VuexModule,
  Module,
  Action,
  Mutation,
  getModule
} from 'vuex-module-decorators'
import { login } from '@/api/users' //è°ƒç”¨apiæ–¹æ³•
import store from '@/store'

//å£°æ˜useræ¨¡å—çš„stateå˜é‡ç±»å‹
//export interface åªæ˜¯å¯¹ä¸€ä¸ªä¸œè¥¿çš„å£°æ˜ï¼ˆä¸èƒ½å…·ä½“çš„æ“ä½œï¼‰
//export class å¯¼å‡ºä¸€ä¸ªç±» ç±»é‡Œé¢å¯æœ‰å‚æ•° ï¼Œå‡½æ•°ï¼Œæ–¹æ³•ï¼ˆå¹²ä¸€äº›å…·ä½“çš„äº‹æƒ…ï¼‰
export interface IUserState {
  id_token: string
}

@Module({ dynamic: true, store, name: 'user' })
class User extends VuexModule implements IUserState {
  public id_token = ''

  @Mutation
  private SET_TOKEN(token: string) {
    //åŒæ­¥å­˜å‚¨id_tokenå˜é‡
    this.id_token = token
  }

  @Action
  public async Login(params: any) {
    let { mobilePhone, password } = params
    const { data } = await login({ mobilePhone, password })
    this.SET_TOKEN(`Bearer ${data.id_token}`)
  }
}

export const UserModule = getModule(User)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><p>åœ¨loginé¡µé¢ä¸­è°ƒç”¨</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>import { UserModule } from '@/store/modules/user'

await UserModule.Login({
  ...this.loginForm,
  router: this.$router
})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>æŠŠè·¯ç”±å¯¹è±¡ä½œä¸ºå‚æ•°ä¼ è¿‡å»æ˜¯ä¸ºäº†æ ¹æ®ä¸åŒçš„å“åº”çŠ¶æ€åšåˆ¤æ–­ï¼Œå½“è¯·æ±‚æˆåŠŸåï¼Œå¯ä»¥ç›´æ¥åº”ç”¨ä¼ è¿‡æ¥çš„è·¯ç”±å¯¹è±¡å‚æ•°è·³è½¬é¡µé¢ã€‚</p> <blockquote><p><code>router.push('/')</code></p></blockquote> <p><font color="red">æ³¨æ„ï¼š</font></p> <p>è¿™ä¸€æ­¥æ“ä½œå…¶å®æ˜¯è°ƒç”¨äº†vuexçš„Actionæ“ä½œï¼Œå³åŸå§‹çš„<code>this.$store.commit('action')</code>ï¼Œä½†æ˜¯åœ¨<code>vuex+ts</code>é¡¹ç›®ä¸­ï¼Œè°ƒç”¨å¼‚æ­¥å‡½æ•°<code>Action</code>ï¼Œä¸éœ€è¦å†ç”¨<code>this.$store.commit('action')</code>è¿™ç§æ–¹æ³•ï¼Œå¼•ç”¨æ¨¡å—åï¼Œç›´æ¥è°ƒç”¨é‡Œé¢çš„<code>Action</code>æ–¹æ³•å°±å¥½äº†ï¼ŒåŒæ ·çš„ï¼ŒåŒæ­¥çš„<code>Mutation</code>ä¹Ÿæ˜¯è¿™æ ·è°ƒç”¨ã€‚è¿™äº›éƒ½è¦å½’åŠŸäº<code>vuex-module-decorators</code>ç±»åº“çš„å°è£…</p> <p>å¥½äº†ï¼Œè°ƒç”¨<code>Action</code>åç²—å‘<code>Mutation</code>åŒæ­¥æ“ä½œï¼Œä¿å­˜å¥½<code>token</code>ä»¤ç‰Œï¼Œå› ä¸ºç™»å½•ä¹‹åæ‰€æœ‰çš„è¯·æ±‚éƒ½è¦æŠŠ<code>token</code>å€¼æ”¾åœ¨<code>header</code>å¤´ä¸­å‘èµ·è¯·æ±‚</p> <p>é™¤äº†<code>vuex</code>çŠ¶æ€ç®¡ç†ï¼Œåœ¨é¡¹ç›®ä¸­å¯èƒ½æˆ‘ä»¬è¿˜ä¼šç»“åˆå·¥å…·ç±»<code>js-cookie</code>ä¸€èµ·ä½¿ç”¨ï¼Œç®¡ç†å„ç§å˜é‡çš„å€¼ï¼Œå…·ä½“ç”¨æ³•è·ŸåŸå§‹ç‰ˆæ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œæœ€ä¸»è¦çš„æ˜¯å®‰è£…ç±»åº“çš„è¿‡ç¨‹ä¸­ï¼Œè¿˜å¾—å®‰è£…ä¸€ä¸ªå¼€å‘<code>ts</code>ç¼–è¯‘ç‰ˆ</p> <blockquote><p>yarn add js-cookie     // dependencies
yarn add @types/js-cookie --dev // devDependencies(å¿…è£…)</p></blockquote> <p>ç™»å½•é¡µé¢è‡³æ­¤å°±å®Œæˆäº†ï¼Œå®ƒä¼šç›´æ¥é‡å®šå‘åˆ°é¦–é¡µã€‚æ¥ä¸‹æ¥è®©æˆ‘ä»¬æ¥æ­å»ºé¡¹ç›®çš„çš„éª¨æ¶å¯¼èˆªèœå•</p> <h2 id="layout-å¯¼èˆªèœå•"><a href="#layout-å¯¼èˆªèœå•" class="header-anchor">#</a> layout å¯¼èˆªèœå•</h2> <p>è¿™é‡Œå…¶å®æ²¡å¤ªå¤šå¯ä»‹ç»çš„ï¼Œç›´æ¥ç”¨<code>element-ui</code>çš„<code>NavMenu å¯¼èˆªèœå•</code>ç»„ä»¶å³å¯</p> <p>Error:</p> <blockquote><p>Cannot find module '@/assets/401-images/401.gif'</p></blockquote> <p>è§£å†³ï¼š
åŠ ä¸Šæ¨¡å—å®šä¹‰</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>//shims-vue.d.ts

declare module '*.png'
declare module '*.jpg'
declare module '*.gif'
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>Error:</p> <blockquote><p>åœ¨.vueæ–‡ä»¶é‡Œ &quot;import path from 'path' â€™&quot; æŠ¥é”™ Cannot find module 'path'</p></blockquote> <p>è§£å†³ï¼š
åœ¨tsconfig.jsonçš„typeé¡¹æ·»åŠ &quot;node&quot;å³å¯ã€‚</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&quot;types&quot;: [
  &quot;node&quot;,
]
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Error:</p> <blockquote><p>SassError: expected selector</p></blockquote> <p>è§£å†³ï¼š</p> <blockquote><p>yarn add node-sass --dev</p></blockquote> <p>å¦‚æœå®‰è£…äº†<code>node-sass</code>ä¹‹åè¿˜æœ‰æŠ¥é”™ï¼Œé‚£æœ‰å¯èƒ½æ˜¯ä½ çš„<code>sass</code>ç±»åº“å®‰è£…é”™è¯¯ï¼Œæ£€æŸ¥ä¸‹<code>package.json</code>ä¸­æ˜¯å¦åœ¨<code>devDependencies</code>å¼€å‘ä¾èµ–ä¸­å®‰è£…äº†<code>sass</code>ï¼Œå¦‚æœæœ‰çš„è¯<code>yarn remove sass</code>å³å¯ï¼Œç•™ä¸€ä¸ª<code>sass-loader</code>å°±å¥½äº†</p> <p>Error:
åœ¨ä½¿ç”¨<code>path-to-regexp</code>ä¸­å‡ºç°å¦‚ä¸‹é”™è¯¯è­¦å‘Š</p> <p><img src="https://user-gold-cdn.xitu.io/2020/1/13/16f9c432c41d5410?w=591&amp;h=110&amp;f=png&amp;s=12004" alt=""></p> <p>è§£å†³ï¼š</p> <p>ä¸»è¦æ˜¯ import ä½¿ç”¨çš„é—®é¢˜ï¼šåœ¨å¼•å…¥path-to-regexpæ—¶åº”ä½¿ç”¨ä»¥ä¸‹çš„æ–¹æ³•</p> <blockquote><p>import * as pathToRegexp from 'path-to-regexp'</p></blockquote> <h3 id="layout-æ­¥éª¤"><a href="#layout-æ­¥éª¤" class="header-anchor">#</a> layout æ­¥éª¤ï¼š</h3> <h4 id="å®šä¹‰èœå•è·¯ç”±ç»“æ„"><a href="#å®šä¹‰èœå•è·¯ç”±ç»“æ„" class="header-anchor">#</a> å®šä¹‰èœå•è·¯ç”±ç»“æ„</h4> <div class="language- line-numbers-mode"><pre class="language-text"><code>export const constantRoutes: RouteConfig[] = [
]

export const asyncRoutes: RouteConfig[] = [
]

const createRouter = () =&gt;
  new Router({
    // scrollBehavioråŠŸèƒ½åªåœ¨ HTML5 history æ¨¡å¼ä¸‹å¯ç”¨ï¼Œå½“åˆ‡æ¢åˆ°æ–°è·¯ç”±æ—¶ï¼Œæƒ³è¦é¡µé¢æ»šåˆ°é¡¶éƒ¨ï¼Œæˆ–è€…æ˜¯ä¿æŒåŸå…ˆçš„æ»šåŠ¨ä½ç½®ï¼Œå°±åƒé‡æ–°åŠ è½½é¡µé¢é‚£æ ·
    // mode: 'history',
    scrollBehavior: (to, from, savedPosition) =&gt; {
      if (savedPosition) {
        // å½“ä¸”ä»…å½“ popstate å¯¼èˆª (é€šè¿‡æµè§ˆå™¨çš„ å‰è¿›/åé€€ æŒ‰é’®è§¦å‘) æ—¶æ‰å¯ç”¨
        return savedPosition
      } else {
        return { x: 0, y: 0 }
      }
    },
    base: process.env.BASE_URL,
    routes: constantRoutes
  })

const router = createRouter()

export default router
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p>è¿™é‡Œæœ‰ä¸¤ä¸ªè·¯ç”±æ•°ç»„å¯¹è±¡<code>asyncRoutes</code>ï¼Œ<code>constantRoutes</code>ï¼Œå­—é¢é‡ç†è§£æ„æ€å°±è¡Œäº†</p> <h3 id="è·¯ç”±å®ˆå«"><a href="#è·¯ç”±å®ˆå«" class="header-anchor">#</a> è·¯ç”±å®ˆå«</h3> <p>ä¸ºäº†è®©é¡¹ç›®ä½“éªŒæ€§æ›´å‹å¥½ï¼Œå½“ç„¶è¦å¢åŠ è·¯ç”±å®ˆå«åŠŸèƒ½ï¼Œä¸æ­¤åŒæ—¶ï¼Œä¼šæ·»åŠ ä¸€ä¸ªè·¯ç”±è¿›åº¦æ¡<code>nprogress</code>ç±»åº“</p> <blockquote><p>yarn add nprogress
yarn add @types/nprogress --save</p></blockquote> <div class="language- line-numbers-mode"><pre class="language-text"><code>// @/src/permission.ts

import router from './router'
import NProgress from 'nprogress' // Progress è¿›åº¦æ¡
import 'nprogress/nprogress.css'// Progress è¿›åº¦æ¡æ ·å¼
import { Message } from 'element-ui'
import { PermissionModule } from '@/store/modules/permission'
import { UserModule } from '@/store/modules/user'
import { Route } from 'vue-router'

const whiteList = ['/login'] // ä¸é‡å®šå‘ç™½åå•
router.beforeEach(async(to: Route, _: Route, next: any) =&gt; {
    NProgress.start()
    if (UserModule.id_token) {
        if (to.path === '/login') {
            next({ path: '/' })
            NProgress.done()
        } else {
            // Check whether the user has obtained his permission roles
            if (UserModule.roles.length === 0) {
                try {
                    // Note: roles must be a object array! such as: ['admin'] or ['developer', 'editor']
                    await UserModule.GetUserInfo()
                    const roles = UserModule.roles
                    // Generate accessible routes map based on role
                    PermissionModule.GenerateRoutes(roles)
                    // Dynamically add accessible routes
                    router.addRoutes(PermissionModule.dynamicRoutes)
                    // Hack: ensure addRoutes is complete
                    // Set the replace: true, so the navigation will not leave a history record
                    next({ ...to, replace: true })
                } catch (err) {
                    // Remove token and redirect to login page
                    UserModule.ResetToken()
                    Message.error(err || 'Has Error')
                    next(`/login?redirect=${to.path}`)
                    NProgress.done()
                }
            } else {
                next()
            }
        }
    } else {
        if (whiteList.indexOf(to.path) !== -1) {
            next()
        } else {
            next('/login')
            NProgress.done()
        }
    }
    // next()
    NProgress.done()
})

router.afterEach(() =&gt; {
    NProgress.done() // ç»“æŸProgress
})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br></div></div><p>å½“ç„¶ï¼Œè¦åœ¨ä¸»å…¥å£æ–‡ä»¶å¼•å…¥è¿™ä¸ªè·¯ç”±å®ˆå«æ–‡ä»¶</p> <blockquote><p><code>import '@/permission'</code>  // main.ts</p></blockquote> <p>åœ¨è¿™ä¸ªè·¯ç”±å®ˆå«å·¥å…·ç±»ä¸­å¯ä»¥é€šè¿‡è§’è‰²æ§åˆ¶æ¥é™åˆ¶èœå•æ çš„è·¯ç”±åœ°å€ï¼Œå„ç§ä¸åŒçš„è§’è‰²é…ç½®ä¸åŒçš„è·¯ç”±</p> <p>æ¥ä¸‹æ¥æ„å»ºéª¨æ¶ï¼Œæ¯”è¾ƒä¸­è§„ä¸­çŸ©</p> <p><img src="https://user-gold-cdn.xitu.io/2020/1/13/16f9c437a2fc5770?w=834&amp;h=510&amp;f=png&amp;s=17297" alt=""></p> <p><img src="https://user-gold-cdn.xitu.io/2020/1/13/16f9c43bb9e26527?w=1350&amp;h=510&amp;f=png&amp;s=28388" alt=""></p> <h3 id="_404-é”™è¯¯è·¯å¾„"><a href="#_404-é”™è¯¯è·¯å¾„" class="header-anchor">#</a> 404 é”™è¯¯è·¯å¾„</h3> <p>è¯¥æœ‰çš„åŠŸèƒ½è¿˜æ˜¯å¾—æœ‰çš„ï¼Œä½“éªŒæ€§è¦å‹å¥½ã€‚å…·ä½“çš„å°±ä¸ç»†è®²äº†ï¼Œå¯ä»¥å‚ç…§æºç ï¼Œåœ¨è¿™é‡Œï¼Œä½ å¯ä»¥éšå¿ƒæ‰€æ¬²çš„æ­å»ºä½ æƒ³è¦çš„UIé£æ ¼ã€‚</p> <h3 id="è·¯ç”±iconé…ç½®"><a href="#è·¯ç”±iconé…ç½®" class="header-anchor">#</a> è·¯ç”±Iconé…ç½®</h3> <p>æœ¬é¡¹ç›®ä¸­çš„Iconï¼Œéƒ½æ˜¯<code>svg</code>ç±»å‹çš„çŸ¢é‡å›¾æ ‡ç»è¿‡<code>vue-svgicon</code>ç±»åº“è½¬åŒ–æˆçš„ç»„ä»¶ï¼Œç”¨æ³•è¾ƒä¸ºçµæ´»ï¼Œæ–¹ä¾¿</p> <p>1ã€å®‰è£…ä¾èµ–</p> <blockquote><p>yarn add vue-svgicon</p></blockquote> <p>2ã€é…ç½®svgå›¾æ ‡ç›®å½•è·¯å¾„ï¼ˆä»»æ„ç›®å½•ï¼‰å’Œè¾“å‡ºè·¯å¾„</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>// package.json

&quot;scripts&quot;: {
    ...
    &quot;svg&quot;: &quot;vsvg -s ./src/icons/svg -t ./src/icons/components --ext ts --es6&quot;
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>3ã€åœ¨ä¸»å…¥å£<code>main.ts</code>ä¸­å¼•å…¥<code>svgIcon</code>ç»„ä»¶ï¼Œå¹¶ä¸”å…¨å±€æ³¨å†Œ</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>// main.ts

import SvgIcon from 'vue-svgicon'

Vue.use(SvgIcon, {
  tagName: 'svg-icon',
  defaultWidth: '1em',
  defaultHeight: '1em'
})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>4ã€æ‰§è¡Œå‘½ä»¤ï¼Œç”ŸæˆIcon ç»„ä»¶å¼•ç”¨</p> <blockquote><p>yarn run svg</p></blockquote> <p>5ã€ä½¿ç”¨å‚è€ƒ<a href="https://github.com/MMF-FE/vue-svgicon" target="_blank" rel="noopener noreferrer">SvgIcon<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>å¥½äº†ï¼Œè‡³æ­¤ï¼Œ<code>vue+ts</code>çš„æ•´ä¸ªæ¨¡æ¿åå°å°±æ­å»ºå¥½äº†ã€‚å› ä¸ºæ¯ä¸ªäººçš„ä¸šåŠ¡éœ€æ±‚è‚¯å®šä¸ä¸€æ ·ï¼Œæ‰€ä»¥åˆ°è¿™é‡Œç®—æ˜¯ä¸€ä¸ªæ¯”è¾ƒå¹²å‡€çš„æ¨¡æ¿æ¡†æ¶äº†ã€‚</p> <p>å½“ç„¶ï¼Œä½ ä»¥ä¸ºåˆ°è¿™é‡Œå°±ç»“æŸäº†å—ï¼Œå½“ç„¶ä¸æ˜¯ï¼Œè‚¯å®šè¦å¤šå‡ ä¸ªåŠŸèƒ½ï¼Œä¸ç„¶ï¼Œè¾›è¾›è‹¦è‹¦ç©ä¸€æ¬¡<code>ts</code>é¡¹ç›®ï¼Œè‚¯å®šè¦ç©å¾—å°½å…´ä¸€ç‚¹</p> <p>è¨€å½’æ­£ä¼ ã€‚</p> <h2 id="å›½é™…åŒ–"><a href="#å›½é™…åŒ–" class="header-anchor">#</a> å›½é™…åŒ–</h2> <p>å›½é™…åŒ–å¯¹äºå¤§å‚æˆ–è€…æŸäº›æœ‰å›½é™…åŒ–ä¸šåŠ¡çš„å…¬å¸æ¥è¯´ï¼Œæ˜¯å¿…ä¸å¯å°‘çš„ï¼Œé‚£æˆ‘ä»¬å°±å…ˆæ‰©å±•ä¸ªå›½é™…åŒ–çš„åŠŸèƒ½ç©ç©å§ã€‚</p> <p>1ã€é¦–å…ˆï¼Œå®‰è£…<code>vue-i18n</code>åº“</p> <blockquote><p>yarn add vue-i18n</p></blockquote> <p>2ã€å®šåˆ¶å›½é™…åŒ–è¯­è¨€åŒ…ï¼Œè¿™é‡Œæš‚ä¸”å°±åªæä¸­è‹±ä¸¤ç§è¯­è¨€ï¼Œå…¶å®ƒéƒ½æ˜¯å…±é€šçš„</p> <p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œæ‰€è°“çš„å›½é™…åŒ–è¯­è¨€åŒ…ï¼Œåœ¨å‰ç«¯éƒ¨åˆ†ï¼Œä½ åªèƒ½ä½“ç°åœ¨ä¸€äº›å›ºå®šçš„ä½ç½®ï¼Œæ¯”å¦‚èœå•æ çš„é¡µé¢åç§°ï¼Œè¡¨å•çš„labelå€¼ï¼Œ<code>placeholder</code>å±æ€§å€¼...å³æ‰€æœ‰éæœåŠ¡ç«¯å“åº”çš„æ•°æ®ï¼Œå› ä¸ºæœåŠ¡ç«¯å“åº”çš„æ•°æ®æ˜¯ä¸å›ºå®šçš„ï¼Œä½ æ˜¯æ²¡æ³•åšæˆè¯­è¨€åŒ…ç¿»è¯‘æˆå¯¹åº”è¯­è¨€çš„ã€‚æ‰€ä»¥ï¼ŒçœŸæ­£çš„å›½é™…åŒ–é¡¹ç›®ï¼Œåº”è¯¥æ˜¯å‰åç«¯åè°ƒå¥½ï¼Œå½“åˆ‡æ¢åˆ°å¯¹åº”è¯­è¨€åï¼Œä¼ å€¼å¯¹åº”çš„å›½é™…åŒ–å‚æ•°å€¼ï¼Œç„¶åæœåŠ¡ç«¯åŒæ—¶ä¹Ÿé…ç½®å›½é™…åŒ–çš„æ•°æ®å“åº”ï¼Œä»è€Œè¾¾åˆ°æ•´ä¸ªé¡¹ç›®çš„å›½é™…åŒ–</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>â”œâ”€ src/                # æºç ç›®å½•
â”‚   â”œâ”€ lang/
â”‚   â”œâ”€â”€â”€ en.ts  
â”‚   â”œâ”€â”€â”€ zh.ts
â”‚   â”œâ”€â”€â”€ index.ts
...
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>è‹±æ–‡ç‰ˆ</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>// en.ts

export default {
    route: {
        dashboard: 'Dashboard',
        commonTable: 'Common Table',
        helpCenter: 'Help Center',
        salary: 'Salary',
        firstStep: 'First Step',
        secondStep: 'Second Step',
        sendRecord: 'Send Record'
    },
    login: {
        mobilePhone: 'Please enter your mobile number',
        password: 'Please enter your Password',
        btn: 'login'
    }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>ä¸­æ–‡ç‰ˆ</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>export default {
    route: {
        dashboard: 'é¦–é¡µ',
        commonTable: 'è¡¨æ ¼',
        helpCenter: 'å¸®åŠ©ä¸­å¿ƒ',
        salary: 'å·¥èµ„æ¡',
        firstStep: 'ç¬¬ä¸€æ­¥',
        secondStep: 'ç¬¬äºŒæ­¥',
        sendRecord: 'å‘é€è®°å½•'
    },
    login: {
        mobilePhone: 'è¯·è¾“å…¥æ‰‹æœºå·ç ',
        password: 'è¯·è¾“å…¥å¯†ç ',
        btn: 'ç™»å½•'
    }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>æ€»çš„æ¥è¯´ï¼Œå°±æ˜¯å–ä»–ä»¬æ‰€è¡¨è¾¾æ„ä¹‰çš„labelå€¼åšæˆå¯é…ç½®åŒ–çš„å¯¹è±¡</p> <p>3ã€ç»¼åˆå›½é™…åŒ–è¯­è¨€åŒ…</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>import Vue from 'vue'
import Cookies from 'js-cookie'
import VueI18n from 'vue-i18n'

// element-ui built-in lang
import elementEnLocale from 'element-ui/lib/locale/lang/en'
import elementZhLocale from 'element-ui/lib/locale/lang/zh-CN'

// User defined lang
import enLocale from './en'
import zhLocale from './zh'

Vue.use(VueI18n)

const getLanguage = () =&gt; Cookies.get('language')

const messages = {
    en: {
        ...enLocale,
        ...elementEnLocale
    },
    zh: {
        ...zhLocale,
        ...elementZhLocale
    },
    ... // è¿™é‡Œå¦‚æœæœ‰å…¶å®ƒè¯­è¨€åŒ…ç»§ç»­æŒ‰ç…§è§„åˆ™æ·»åŠ å³å¯
}

export const getLocale = () =&gt; {
    const cookieLanguage = getLanguage()
    if (cookieLanguage) {
        return cookieLanguage
    }

    const language = navigator.language.toLowerCase()
    const locales = Object.keys(messages)
    for (const locale of locales) {
        if (language.indexOf(locale) &gt; -1) {
            return locale
        }
    }

    // Default language is english
    return 'en'
}

const i18n = new VueI18n({
    locale: getLocale(),
    messages
})

export default i18n
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br></div></div><p>4ã€ä¸»å…¥å£<code>main.ts</code>æ³¨å…¥</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>import i18n from '@/lang'
Vue.use(ElementUI, {
  i18n: (key: string, value: string) =&gt; i18n.t(key, value)
})

new Vue({
  ...
  i18n,
}).$mount('#app')
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><font color="red">æ³¨æ„ï¼š</font></p> <p><code>Vue.use</code>é‡Œé¢çš„<code>i18n</code>åªæ˜¯<code>element-ui</code>çš„æ¡†æ¶å±æ€§é…ç½®ï¼ŒçœŸæ­£å…¨å±€åŒ–çš„å›½é™…åŒ–é…ç½®ï¼Œä¸€å®šè¦è·Ÿè·¯ç”±å’ŒçŠ¶æ€ç®¡ç†ä¸€æ ·æ³¨å…¥åˆ°<code>new Vue()</code>ä¸­</p> <p>å›½é™…åŒ–åˆ°è¿™é‡Œå°±é…ç½®å®Œæˆäº†ï¼Œé‚£æ€ä¹ˆä½¿ç”¨å‘¢</p> <p>5ã€å›½é™…åŒ–é…ç½®åº”ç”¨</p> <p>â‘  ç™»å½•é¡µåº”ç”¨</p> <p>ç™»å½•é¡µå°±ä¸€ä¸ªè¡¨å•ï¼Œæ‰‹æœºå·å’Œå¯†ç ï¼Œåœ¨è¿™ä¸ªé¡µé¢ä¸­çš„å›½é™…åŒ–å°±æ˜¯å¯¹ä»–ä»¬çš„<code>label</code>å’Œ<code>placeholder</code>å±æ€§åçš„å€¼åšé…ç½®</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;template&gt;
    &lt;div class=&quot;login-container&quot;&gt;
        &lt;lang-select /&gt;
           &lt;el-form&gt;
	           &lt;!--æ‰‹æœºå·--&gt;
               &lt;el-form-item&gt;
                   &lt;el-input :placeholder=&quot;$t('login.mobilePhone')&quot;
                   &gt;
                   &lt;/el-input&gt;
               &lt;/el-form-item&gt;
               &lt;!--å¯†ç --&gt;
               &lt;el-form-item&gt;
                   &lt;el-input :placeholder=&quot;$t('login.password')&quot;
                   &gt;
                   &lt;/el-input&gt;
               &lt;/el-form-item&gt;
               &lt;footer&gt;
                   &lt;el-button&gt;
                    {{ $t('login.btn') }}
                   &lt;/el-button&gt;
               &lt;/footer&gt;
           &lt;/el-form&gt;
    &lt;/div&gt;
&lt;/template&gt;

&lt;script lang=&quot;ts&quot;&gt;
import LangSelect from '@/components/LangSelect/index.vue'

@Component({
    name: 'login',
    components: {
        LangSelect
    }
})
export default class extends Vue {}

&lt;/script&gt;

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div><p><font color="red">è¯­æ³•ç³–ï¼š</font>
å…·ä½“å›½é™…åŒ–è¯­è¨€åˆ‡æ¢ï¼Œå°±æ˜¯é€šè¿‡è¿™ç§å˜é‡å€¼å–å€¼æ–¹å¼æ ¹æ®ä¹‹å‰çš„å›½é™…åŒ–è¯­è¨€åŒ…å–å€¼çš„<code>$t('...')</code></p> <p>å½“ç„¶ï¼Œè¿™é‡Œè¿˜æœ‰ä¸ªè¯­è¨€åˆ‡æ¢å·¥å…·ï¼Œä¹‹å‰æ‰€æœ‰çš„é…ç½®éƒ½æ˜¯æ€ä¹ˆå–å€¼ï¼Œé‚£è¿™ä¸ªè¯­è¨€åˆ‡æ¢å·¥å…·å‘¢å°±æ˜¯è®¾å€¼è¯­è¨€å€¼å¾—å·¥å…·ï¼Œå³ä¸Šé¢<code>components</code>ä¸­çš„<code>LangSelect</code></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>@Component
export default class extends Vue {
    get language() { // æŠŠlanguageè¯­è¨€å€¼å­˜è¿›vuexï¼Œè¿™é‡Œæ˜¯å–å€¼
        return AppModule.language
    }

    private handleSetLanguage(lang: string) {
        this.$i18n.locale = lang
        AppModule.SetLanguage(lang)
        this.$message({
            message: 'Switch Language Success',
            type: 'success'
        })
    }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>åˆ‡æ¢åæŠ¥ä»¥ä¸‹é”™è¯¯</p> <p><img src="https://user-gold-cdn.xitu.io/2020/1/13/16f9c440cc28a44c?w=1517&amp;h=42&amp;f=png&amp;s=16358" alt=""></p> <p><font color="red">è§£å†³ï¼š</font></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>// src/shims-vue.d.ts

declare module 'element-ui/lib/locale/lang/*' {
  export const elementLocale: any
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="æ‰©å±•å†…å®¹"><a href="#æ‰©å±•å†…å®¹" class="header-anchor">#</a> æ‰©å±•å†…å®¹</h3> <h3 id="æ¢è‚¤"><a href="#æ¢è‚¤" class="header-anchor">#</a> æ¢è‚¤</h3> <p>æ¢è‚¤å’Œå‰é¢çš„å®šåˆ¶ä¸»é¢˜è¿˜æ˜¯æœ‰åŒºåˆ«çš„ï¼Œæ¦‚å¿µçš„è¯å°±ä¸åšè¿‡å¤šä»‹ç»äº†ï¼Œå¯ä»¥è‡ªè¡Œä½“ä¼š</p> <p>è¿™é‡Œå°±ä¸ç»†è¯´äº†ï¼Œå¯ä»¥æŸ¥çœ‹<code>@/components/ThemePicker</code>ï¼Œæ›´æ¢çš„æ‰€æœ‰ä¸»é¢˜è‰²åœ¨<code>@/styles/element-variables.scss</code>é…ç½®</p> <h3 id="è½®æ’­å›¾å’Œecharts"><a href="#è½®æ’­å›¾å’Œecharts" class="header-anchor">#</a> è½®æ’­å›¾å’Œecharts</h3> <p>å®‰è£…ä¾èµ–</p> <blockquote><p>yarn add echarts
yarn add @types/echarts --dev</p></blockquote> <p>è½®æ’­å›¾å’Œechartséƒ½åœ¨é¦–é¡µ<code>Dashboard</code>é¡µé¢é‡Œï¼Œå¯ä»¥è‡ªè¡Œå‚è€ƒ</p> <h3 id="è¡¨æ ¼åˆ†é¡µã€æœç´¢"><a href="#è¡¨æ ¼åˆ†é¡µã€æœç´¢" class="header-anchor">#</a> è¡¨æ ¼åˆ†é¡µã€æœç´¢</h3> <p>æ­¤å¤–ï¼Œè¿˜æ–°åŠ äº†ä¸€ä¸ªè¡¨æ ¼åˆ†é¡µå’Œæœç´¢çš„é¡µé¢ä¾›å‚è€ƒ</p> <p>è¯¦ç»†è¯·å‚è€ƒè¡¨æ ¼æ‰€åœ¨çš„è·¯ç”±é¡µé¢</p> <p>è¿™é‡Œï¼Œä¸ºäº†ä½“éªŒæ€§å‹å¥½ï¼Œè¡¨æ ¼çš„åˆ†é¡µåˆ‡æ¢å¼•è¿›äº†ä¸€ä¸ªæ»šåŠ¨åˆ°æœ€é¡¶ç«¯çš„å°åŠ¨ç”»</p> <h3 id="ç™»å½•èƒŒæ™¯åŠ¨æ•ˆå›¾"><a href="#ç™»å½•èƒŒæ™¯åŠ¨æ•ˆå›¾" class="header-anchor">#</a> ç™»å½•èƒŒæ™¯åŠ¨æ•ˆå›¾</h3> <p>åˆ°è¿™é‡Œå·®ä¸å¤šè¿™ä¸ªé¡¹ç›®å°±è¦ç»“æŸäº†ï¼Œæ•´ä¸ªçš„é¡¹ç›®æ¶æ„æ¥è¯´ï¼Œè¶Šè½»é‡çº§è¶Šå¥½ï¼Œæ‰€ä»¥å°±ä¸åšå¤ªå¤šæ‰©å±•äº†ï¼Œå°½é‡å¼€ç®±å³ç”¨</p> <p>åœ¨æ­¤ï¼Œä¸ºäº†ç™»å½•é¡µä¸æ˜¾å¾—é‚£ä¹ˆå¯’ç¢œï¼Œè¿˜æ˜¯ç»™åŠ ä¸ªåŠ¨æ•ˆå§</p> <p>å¥½äº†ï¼Œå¤§åŠŸå‘Šæˆã€‚æ’’èŠ±æ’’èŠ±~~~</p> <p>åˆ†äº«ä¸æ˜“ï¼Œå–œæ¬¢çš„è¯ä¸€å®šåˆ«å¿˜äº†ç‚¹<font color="red" size="12">ğŸ’–ï¼ï¼ï¼</font></p> <p>åªå…³æ³¨ä¸ç‚¹<font color="red" size="12">ğŸ’–</font>çš„éƒ½æ˜¯<code>è€æµæ°“</code>ï¼Œåªæ”¶è—ä¹Ÿä¸ç‚¹<font color="red" size="12">ğŸ’–</font>çš„ä¹Ÿä¸€æ ·æ˜¯<code>è€æµæ°“</code>ã€‚</p> <p>ç»“æŸ<font color="red" size="12">ğŸ‘ğŸ‘ğŸ‘</font>ã€‚</p> <h2 id="æºç "><a href="#æºç " class="header-anchor">#</a> æºç </h2> <p><a href="https://github.com/zengxiaozeng/vue-typescript-admin-element-ui" target="_blank" rel="noopener noreferrer">vue-typescript-admin-element-ui<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <code>typescript+vue</code>å®æˆ˜</p> <p><a href="https://juejin.im/post/6844903999984893966" target="_blank" rel="noopener noreferrer">uni-app å°ç¨‹åº<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>  uni-appå°ç¨‹åºæ‰‹æŠŠæ‰‹é¡¹ç›®å®æˆ˜</p> <p><a href="%E6%89%8B%E6%8A%8A%E6%89%8B%E5%B8%A6%E4%BD%A0%E6%90%AD%E5%BB%BAReact16+Router+Redux-saga+Antd%E5%90%8E%E5%8F%B0%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F">React+antd+Redux-sagaå®æˆ˜</a>     æ‰‹æŠŠæ‰‹å¸¦ä½ æ­å»ºReact16+Router+Redux-saga+Antdåå°ç®¡ç†ç³»ç»Ÿ</p> <h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="header-anchor">#</a> å‚è€ƒ</h2> <p><a href="https://github.com/Armour/vue-typescript-admin-template" target="_blank" rel="noopener noreferrer">vue-typescript-admin-template<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">1/6/2021, 10:03:24 AM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/zxz/assets/js/app.92503a3d.js" defer></script><script src="/zxz/assets/js/2.f08df1f8.js" defer></script><script src="/zxz/assets/js/43.1b1b101a.js" defer></script>
  </body>
</html>
